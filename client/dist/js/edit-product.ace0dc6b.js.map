{"version":3,"sources":["webpack:///./src/components/CategoryDropdown/CategoryDropdown.vue","webpack:///./src/components/CategoryDropdown/CategoryDropdown.vue?fcaa","webpack:///./src/components/CategoryDropdown/CategoryDropdown.vue?a3d8","webpack:///./src/components/Spinner.vue?7726","webpack:///./src/views/admin-layout/product/edit-product.vue","webpack:///./src/components/admin-layout/product/edit-product/EditProductTemplate.vue","webpack:///./src/components/admin-layout/product/edit-product/EditProductTemplate.vue?a50e","webpack:///./src/components/admin-layout/product/edit-product/EditProductTemplate.vue?a26e","webpack:///./src/views/admin-layout/product/edit-product.vue?1afd","webpack:///./src/views/admin-layout/product/edit-product.vue?4cee","webpack:///./src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?2236","webpack:///./src/components/Spinner.vue?8361","webpack:///./src/assets/images/image-container/no-photo.svg","webpack:///./src/components/CategoryDropdown/CategoryDropdown.vue?3f08","webpack:///./src/components/ImageContainer.vue","webpack:///./src/components/ImageContainer.vue?cdf1","webpack:///./src/components/ImageContainer.vue?68fd","webpack:///./src/components/ImageContainer.vue?e42d"],"names":["loading","data","showDropdown","align","class","disabled","undefined","categoryName","aria-labelledby","setDropdown","item","index","key","id","name","color","tag","size","components","MDBDropdown","MDBDropdownToggle","MDBDropdownMenu","MDBDropdownItem","MDBSpinner","setup","store","categoryId","getters","getCategoryDropdown","dispatch","value","useFetch","currentCategory","filter","c","render","__scopeId","default","fallback","onSubmit","col","height","width","values","img-url","imgUrl","label","errors","type","price","rows","description","meta","dirty","valid","props","String","required","ErrorField","CategoryDropdown","MDBInput","MDBTextarea","MDBBtn","ImageContainer","MDBRow","MDBCol","MDBContainer","toast","schema","min","url","notRequired","unwatch","watch","reset","validationSchema","initialValues","Number","success","res","Spinner","EditProductTemplate","module","exports","src","alt","style","hasHttpInUrl","match"],"mappings":"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","file":"js/edit-product.ace0dc6b.js","sourcesContent":["<template>\n  <MDBDropdown v-model=\"showDropdown\" :align=\"'end'\" v-if=\"!loading && data\">\n    <MDBDropdownToggle\n      class=\"category-dropdown\"\n      @click=\"showDropdown = !showDropdown\"\n      :disabled=\"data === undefined\"\n    >\n      <span> {{ categoryName }}</span>\n    </MDBDropdownToggle>\n    <MDBDropdownMenu aria-labelledby=\"dropdownMenuButton\">\n      <MDBDropdownItem class=\"dropdown-item\" @mouseup=\"setDropdown(undefined)\">\n        No Category\n      </MDBDropdownItem>\n      <MDBDropdownItem\n        class=\"dropdown-item\"\n        v-for=\"(item, index) in data\"\n        :key=\"index\"\n        @mouseup=\"setDropdown(item.id)\"\n      >\n        {{ item.name }}\n      </MDBDropdownItem>\n    </MDBDropdownMenu>\n  </MDBDropdown>\n\n  <MDBDropdown v-if=\"loading\">\n    <MDBDropdownToggle class=\"category-dropdown\" color=\"primary\" disabled>\n      <MDBSpinner tag=\"span\" size=\"sm\" />\n    </MDBDropdownToggle>\n  </MDBDropdown>\n</template>\n\n<script lang=\"ts\">\nimport {\n  MDBDropdown,\n  MDBDropdownItem,\n  MDBDropdownMenu,\n  MDBDropdownToggle,\n  MDBSpinner,\n} from 'mdb-vue-ui-kit'\nimport { computed, ComputedRef, defineComponent, onUnmounted, ref } from 'vue'\n\nimport { useFetch } from '@/api/fetch-api/useFetch'\nimport { graphqlFetch } from '@/api/graphql-api/GraphqlApi'\nimport { GET_CATEGORIES_DROPDOWN } from '@/api/graphql-api/queries/categoryQueries'\nimport { useStore } from '@/store'\nimport { CategoryDropdownType } from '@/types/category'\n\nexport default defineComponent({\n  name: 'CategoryDropdown',\n  components: {\n    MDBDropdown,\n    MDBDropdownToggle,\n    MDBDropdownMenu,\n    MDBDropdownItem,\n    MDBSpinner,\n  },\n  setup() {\n    const store = useStore()\n    const showDropdown = ref(false)\n\n    const categoryId: ComputedRef<string | undefined> = computed(() => {\n      return store.getters.getCategoryDropdown\n    })\n\n    const setDropdown = (categoryId: string): void => {\n      store.dispatch('updateCategoryDropdown', categoryId)\n      showDropdown.value = false\n    }\n\n    const { data, loading } = useFetch<CategoryDropdownType[]>(\n      'SWR',\n      '/category-dropdown',\n      () => graphqlFetch(GET_CATEGORIES_DROPDOWN),\n    )\n\n    const categoryName: ComputedRef<string> = computed((): string => {\n      if (!data.value) return 'No categories'\n      if (!categoryId.value) return 'No category'\n      const currentCategory = data.value.filter(\n        (c: CategoryDropdownType) => c.id === categoryId.value,\n      )[0]\n      if (!currentCategory) return 'No category'\n      return currentCategory.name\n    })\n\n    // onUnmounted(() => {\n    //   store.dispatch('updateCategoryDropdown', undefined)\n    // })\n\n    return {\n      showDropdown,\n      setDropdown,\n      data,\n      loading,\n      categoryName,\n    }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.category-dropdown {\n  width: 153px;\n}\n</style>\n","\nimport {\n  MDBDropdown,\n  MDBDropdownItem,\n  MDBDropdownMenu,\n  MDBDropdownToggle,\n  MDBSpinner,\n} from 'mdb-vue-ui-kit'\nimport { computed, ComputedRef, defineComponent, onUnmounted, ref } from 'vue'\n\nimport { useFetch } from '@/api/fetch-api/useFetch'\nimport { graphqlFetch } from '@/api/graphql-api/GraphqlApi'\nimport { GET_CATEGORIES_DROPDOWN } from '@/api/graphql-api/queries/categoryQueries'\nimport { useStore } from '@/store'\nimport { CategoryDropdownType } from '@/types/category'\n\nexport default defineComponent({\n  name: 'CategoryDropdown',\n  components: {\n    MDBDropdown,\n    MDBDropdownToggle,\n    MDBDropdownMenu,\n    MDBDropdownItem,\n    MDBSpinner,\n  },\n  setup() {\n    const store = useStore()\n    const showDropdown = ref(false)\n\n    const categoryId: ComputedRef<string | undefined> = computed(() => {\n      return store.getters.getCategoryDropdown\n    })\n\n    const setDropdown = (categoryId: string): void => {\n      store.dispatch('updateCategoryDropdown', categoryId)\n      showDropdown.value = false\n    }\n\n    const { data, loading } = useFetch<CategoryDropdownType[]>(\n      'SWR',\n      '/category-dropdown',\n      () => graphqlFetch(GET_CATEGORIES_DROPDOWN),\n    )\n\n    const categoryName: ComputedRef<string> = computed((): string => {\n      if (!data.value) return 'No categories'\n      if (!categoryId.value) return 'No category'\n      const currentCategory = data.value.filter(\n        (c: CategoryDropdownType) => c.id === categoryId.value,\n      )[0]\n      if (!currentCategory) return 'No category'\n      return currentCategory.name\n    })\n\n    // onUnmounted(() => {\n    //   store.dispatch('updateCategoryDropdown', undefined)\n    // })\n\n    return {\n      showDropdown,\n      setDropdown,\n      data,\n      loading,\n      categoryName,\n    }\n  },\n})\n","import { render } from \"./CategoryDropdown.vue?vue&type=template&id=168cace2&scoped=true\"\nimport script from \"./CategoryDropdown.vue?vue&type=script&lang=ts\"\nexport * from \"./CategoryDropdown.vue?vue&type=script&lang=ts\"\n\nimport \"./CategoryDropdown.vue?vue&type=style&index=0&id=168cace2&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-168cace2\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Spinner.vue?vue&type=style&index=0&id=2d917819&scoped=true&lang=scss\"","<template>\n  <Suspense>\n    <template #default>\n      <EditProductTemplate :id=\"id\" />\n    </template>\n    <template #fallback>\n      <Spinner />\n    </template>\n  </Suspense>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nimport EditProductTemplate from '@/components/admin-layout/product/edit-product/EditProductTemplate.vue'\nimport Spinner from '@/components/Spinner.vue'\n\nexport default defineComponent({\n  name: 'edit-product',\n  components: {\n    Spinner,\n    EditProductTemplate,\n  },\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n  },\n})\n</script>\n\n<style scoped lang=\"scss\"></style>\n","<template>\n  <MDBContainer>\n    <MDBRow tag=\"form\" class=\"g-3\" @submit.prevent=\"onSubmit\">\n      <MDBCol col=\"12\">\n        <ImageContainer\n          height=\"40vh\"\n          width=\"100%\"\n          :name=\"values.name\"\n          :img-url=\"values.imgUrl\"\n        />\n      </MDBCol>\n\n      <MDBCol\n        col=\"12\"\n        class=\"d-flex justify-content-between align-items-center\"\n      >\n        <div>Category:</div>\n        <CategoryDropdown />\n      </MDBCol>\n\n      <MDBCol col=\"12\">\n        <MDBInput label=\"Product Name\" v-model=\"values.name\" />\n        <ErrorField>{{ errors.name }}</ErrorField>\n      </MDBCol>\n\n      <MDBCol col=\"12\">\n        <MDBInput label=\"Image Url\" v-model=\"values.imgUrl\" />\n        <ErrorField>{{ errors.imgUrl }}</ErrorField>\n      </MDBCol>\n\n      <MDBCol col=\"12\">\n        <MDBInput label=\"Price\" type=\"number\" v-model=\"values.price\" />\n        <ErrorField>{{ errors.price }}</ErrorField>\n      </MDBCol>\n\n      <MDBCol col=\"12\">\n        <MDBTextarea\n          label=\"Description\"\n          rows=\"4\"\n          v-model=\"values.description\"\n        />\n        <ErrorField>{{ errors.description }}</ErrorField>\n      </MDBCol>\n      <MDBCol col=\"12\" class=\"d-flex justify-content-end mb-2\">\n        <MDBBtn\n          color=\"light\"\n          type=\"submit\"\n          :disabled=\"!meta.dirty || !meta.valid\"\n        >\n          Save changes\n        </MDBBtn>\n      </MDBCol>\n    </MDBRow>\n  </MDBContainer>\n</template>\n\n<script lang=\"ts\">\nimport {\n  MDBBtn,\n  MDBCol,\n  MDBContainer,\n  MDBInput,\n  MDBRow,\n  MDBTextarea,\n} from 'mdb-vue-ui-kit'\nimport { useField, useForm } from 'vee-validate'\nimport { defineComponent, onUnmounted } from 'vue'\nimport { useToast } from 'vue-toastification'\nimport { number, object, string } from 'yup'\n\nimport { awaitUseFetch } from '@/api/fetch-api/useFetch'\nimport { graphqlFetchBy, graphqlUpdate } from '@/api/graphql-api/GraphqlApi'\nimport { GET_PRODUCT_BY_ID } from '@/api/graphql-api/queries/productQueries'\nimport CategoryDropdown from '@/components/CategoryDropdown/CategoryDropdown.vue'\nimport ErrorField from '@/components/ErrorField.vue'\nimport ImageContainer from '@/components/ImageContainer.vue'\nimport { useStore } from '@/store'\nimport { ProductType, ProductUpdateInput } from '@/types/product'\n\nexport default defineComponent({\n  name: 'EditProductTemplate',\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n  },\n  components: {\n    ErrorField,\n    CategoryDropdown,\n    MDBInput,\n    MDBTextarea,\n    MDBBtn,\n    ImageContainer,\n    MDBRow,\n    MDBCol,\n    MDBContainer,\n  },\n  async setup(props) {\n    const toast = useToast()\n    const store = useStore()\n\n    const schema = object({\n      name: string().required().min(4).label('Product name'),\n      imgUrl: string().required().url().label('Image URL'),\n      price: number().required().min(0).label('Product price'),\n      description: string().notRequired(),\n      categoryId: string().notRequired(),\n    })\n\n    const unwatch = store.watch(\n      () => store.getters.getCategoryDropdown,\n      (value) => {\n        values.categoryId = value\n      },\n    )\n\n    const reset = (): void => {\n      // resetForm()\n      meta.value.valid = false\n    }\n\n    const { values, errors, meta } = useForm({\n      validationSchema: schema,\n      initialValues: {\n        name: '',\n        imgUrl: '',\n        price: undefined,\n        description: '',\n        categoryId: '',\n      },\n    })\n    useField<string>('name')\n    useField<string>('imgUrl')\n    useField<number>('price')\n    useField<string>('description')\n    useField<string>('categoryId')\n\n    const onSubmit = (): void => {\n      values.price = Number(values.price)\n      graphqlUpdate<ProductUpdateInput>('product', props.id, values)\n      reset()\n      toast.success('Product has been updated!')\n    }\n    onUnmounted(() => {\n      unwatch()\n      store.dispatch('updateCategoryDropdown', undefined)\n    })\n\n    const res = await awaitUseFetch<ProductType>(\n      'SWR',\n      `/edit-product-${props.id}`,\n      () => graphqlFetchBy(GET_PRODUCT_BY_ID, { id: props.id! }),\n    )\n    // TODO need to improve this\n    const { name, imgUrl, price, description, categoryId } = res!\n    values.name = meta.value.initialValues.name = name\n    values.imgUrl = meta.value.initialValues.imgUrl = imgUrl\n    // TODO price's meta dirty does not work\n    values.price = meta.value.initialValues.price = price\n    values.description = meta.value.initialValues.description = description\n    values.categoryId = meta.value.initialValues.categoryId = categoryId\n    store.dispatch('updateCategoryDropdown', categoryId)\n\n    return {\n      values,\n      errors,\n      meta,\n      onSubmit,\n    }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\"></style>\n","\nimport {\n  MDBBtn,\n  MDBCol,\n  MDBContainer,\n  MDBInput,\n  MDBRow,\n  MDBTextarea,\n} from 'mdb-vue-ui-kit'\nimport { useField, useForm } from 'vee-validate'\nimport { defineComponent, onUnmounted } from 'vue'\nimport { useToast } from 'vue-toastification'\nimport { number, object, string } from 'yup'\n\nimport { awaitUseFetch } from '@/api/fetch-api/useFetch'\nimport { graphqlFetchBy, graphqlUpdate } from '@/api/graphql-api/GraphqlApi'\nimport { GET_PRODUCT_BY_ID } from '@/api/graphql-api/queries/productQueries'\nimport CategoryDropdown from '@/components/CategoryDropdown/CategoryDropdown.vue'\nimport ErrorField from '@/components/ErrorField.vue'\nimport ImageContainer from '@/components/ImageContainer.vue'\nimport { useStore } from '@/store'\nimport { ProductType, ProductUpdateInput } from '@/types/product'\n\nexport default defineComponent({\n  name: 'EditProductTemplate',\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n  },\n  components: {\n    ErrorField,\n    CategoryDropdown,\n    MDBInput,\n    MDBTextarea,\n    MDBBtn,\n    ImageContainer,\n    MDBRow,\n    MDBCol,\n    MDBContainer,\n  },\n  async setup(props) {\n    const toast = useToast()\n    const store = useStore()\n\n    const schema = object({\n      name: string().required().min(4).label('Product name'),\n      imgUrl: string().required().url().label('Image URL'),\n      price: number().required().min(0).label('Product price'),\n      description: string().notRequired(),\n      categoryId: string().notRequired(),\n    })\n\n    const unwatch = store.watch(\n      () => store.getters.getCategoryDropdown,\n      (value) => {\n        values.categoryId = value\n      },\n    )\n\n    const reset = (): void => {\n      // resetForm()\n      meta.value.valid = false\n    }\n\n    const { values, errors, meta } = useForm({\n      validationSchema: schema,\n      initialValues: {\n        name: '',\n        imgUrl: '',\n        price: undefined,\n        description: '',\n        categoryId: '',\n      },\n    })\n    useField<string>('name')\n    useField<string>('imgUrl')\n    useField<number>('price')\n    useField<string>('description')\n    useField<string>('categoryId')\n\n    const onSubmit = (): void => {\n      values.price = Number(values.price)\n      graphqlUpdate<ProductUpdateInput>('product', props.id, values)\n      reset()\n      toast.success('Product has been updated!')\n    }\n    onUnmounted(() => {\n      unwatch()\n      store.dispatch('updateCategoryDropdown', undefined)\n    })\n\n    const res = await awaitUseFetch<ProductType>(\n      'SWR',\n      `/edit-product-${props.id}`,\n      () => graphqlFetchBy(GET_PRODUCT_BY_ID, { id: props.id! }),\n    )\n    // TODO need to improve this\n    const { name, imgUrl, price, description, categoryId } = res!\n    values.name = meta.value.initialValues.name = name\n    values.imgUrl = meta.value.initialValues.imgUrl = imgUrl\n    // TODO price's meta dirty does not work\n    values.price = meta.value.initialValues.price = price\n    values.description = meta.value.initialValues.description = description\n    values.categoryId = meta.value.initialValues.categoryId = categoryId\n    store.dispatch('updateCategoryDropdown', categoryId)\n\n    return {\n      values,\n      errors,\n      meta,\n      onSubmit,\n    }\n  },\n})\n","import { render } from \"./EditProductTemplate.vue?vue&type=template&id=802bfde4\"\nimport script from \"./EditProductTemplate.vue?vue&type=script&lang=ts\"\nexport * from \"./EditProductTemplate.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from 'vue'\n\nimport EditProductTemplate from '@/components/admin-layout/product/edit-product/EditProductTemplate.vue'\nimport Spinner from '@/components/Spinner.vue'\n\nexport default defineComponent({\n  name: 'edit-product',\n  components: {\n    Spinner,\n    EditProductTemplate,\n  },\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n  },\n})\n","import { render } from \"./edit-product.vue?vue&type=template&id=2c13970b\"\nimport script from \"./edit-product.vue?vue&type=script&lang=ts\"\nexport * from \"./edit-product.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <MDBCol\n    class=\"d-flex justify-content-center align-items-center custom-spinner\"\n  >\n    <MDBSpinner color=\"primary\" />\n  </MDBCol>\n</template>\n\n<script lang=\"ts\">\nimport { MDBCol, MDBSpinner } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'Spinner',\n  components: {\n    MDBSpinner,\n    MDBCol,\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.custom-spinner {\n  position: fixed;\n  height: 80vh;\n  width: 100vw;\n}\n</style>\n","\nimport { MDBCol, MDBSpinner } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'Spinner',\n  components: {\n    MDBSpinner,\n    MDBCol,\n  },\n})\n","import { render } from \"./Spinner.vue?vue&type=template&id=2d917819&scoped=true\"\nimport script from \"./Spinner.vue?vue&type=script&lang=ts\"\nexport * from \"./Spinner.vue?vue&type=script&lang=ts\"\n\nimport \"./Spinner.vue?vue&type=style&index=0&id=2d917819&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-2d917819\"\n\nexport default script","module.exports = __webpack_public_path__ + \"img/no-photo.cfebf14d.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CategoryDropdown.vue?vue&type=style&index=0&id=168cace2&scoped=true&lang=scss\"","<template>\n  <div class=\"image-container\" :style=\"`height: ${height}; width: ${width};`\">\n    <div\n      v-if=\"hasHttpInUrl(imgUrl)\"\n      class=\"background-image\"\n      :style=\"`background-image: url(${imgUrl});`\"\n    />\n    <!--    <img-->\n    <!--      class=\"image-container__img\"-->\n    <!--      :src=\"imgUrl\"-->\n    <!--      alt=\"Image\"-->\n    <!--      v-if=\"hasHttpInUrl(imgUrl)\"-->\n    <!--    />-->\n    <img\n      class=\"image-container__placeholder\"\n      src=\"@/assets/images/image-container/no-photo.svg\"\n      alt=\"\"\n      v-else\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'ImageContainer',\n  props: {\n    height: {\n      type: String,\n      required: true,\n    },\n    width: {\n      type: String,\n      required: true,\n    },\n    imgUrl: {\n      type: String,\n      required: true,\n    },\n    name: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const hasHttpInUrl = (imgUrl: string): boolean => {\n      // it is emulate of checking image exist\n      return imgUrl.match(/(http(s?))/gim) != null\n    }\n    return {\n      hasHttpInUrl,\n    }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.background-image {\n  height: 100%;\n  width: 100%;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n}\n.image-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &__img {\n    max-width: 100%;\n    max-height: 100%;\n  }\n  &__placeholder {\n    height: 50%;\n    width: 50%;\n  }\n}\n</style>\n","\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'ImageContainer',\n  props: {\n    height: {\n      type: String,\n      required: true,\n    },\n    width: {\n      type: String,\n      required: true,\n    },\n    imgUrl: {\n      type: String,\n      required: true,\n    },\n    name: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const hasHttpInUrl = (imgUrl: string): boolean => {\n      // it is emulate of checking image exist\n      return imgUrl.match(/(http(s?))/gim) != null\n    }\n    return {\n      hasHttpInUrl,\n    }\n  },\n})\n","import { render } from \"./ImageContainer.vue?vue&type=template&id=0c088326&scoped=true\"\nimport script from \"./ImageContainer.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageContainer.vue?vue&type=script&lang=ts\"\n\nimport \"./ImageContainer.vue?vue&type=style&index=0&id=0c088326&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0c088326\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ImageContainer.vue?vue&type=style&index=0&id=0c088326&scoped=true&lang=scss\""],"sourceRoot":""}