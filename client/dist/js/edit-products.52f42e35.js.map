{"version":3,"sources":["webpack:///./src/components/Spinner.vue?7726","webpack:///./src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?2236","webpack:///./src/components/Spinner.vue?8361","webpack:///./src/services/TextSlicerService/TextSlicerService.ts","webpack:///./src/components/admin-layout/product/edit-products/EditProductsItem.vue?13fc","webpack:///./src/components/admin-layout/product/edit-products/EditProductsFilter.vue?b36c","webpack:///./src/helpers/EventBus.ts","webpack:///./src/views/admin-layout/product/edit-products.vue","webpack:///./src/components/admin-layout/product/edit-products/EditProductsFilter.vue","webpack:///./src/components/admin-layout/product/edit-products/EditProductsFilter.vue?54fd","webpack:///./src/components/admin-layout/product/edit-products/EditProductsFilter.vue?4940","webpack:///./src/components/admin-layout/product/edit-products/EditProductsItem.vue","webpack:///./src/components/admin-layout/product/edit-products/EditProductsItem.vue?1093","webpack:///./src/components/admin-layout/product/edit-products/EditProductsItem.vue?7dae","webpack:///./src/views/admin-layout/product/edit-products.vue?8e69","webpack:///./src/views/admin-layout/product/edit-products.vue?7066"],"names":["class","color","name","components","MDBSpinner","MDBCol","render","__scopeId","textSlicer","input","length","sizeWithoutDots","sliced","slice","receivers","publish","topic","subject","Promise","this","getTopicReceivers","map","receiver","resolve","subscribe","push","unsubscribe","eventBus","EventBus","loading","col","data","to","item","index","key","light","bg","MDBNavbar","height","width","img-url","imgUrl","id","removeItem","ProductImage","MDBBtn","MDBListGroupItem","props","type","Object","setup","toast","error","undefined","EditProductsItem","MDBContainer","MDBRow","MDBListGroup","EditProductsFilter","Spinner","store","dataLoader","categoryId","value","getters","getCategoryDropdown","unwatch","watch"],"mappings":"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","file":"js/edit-products.52f42e35.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Spinner.vue?vue&type=style&index=0&id=2d917819&scoped=true&lang=scss\"","<template>\n  <MDBCol\n    class=\"d-flex justify-content-center align-items-center custom-spinner\"\n  >\n    <MDBSpinner color=\"primary\" />\n  </MDBCol>\n</template>\n\n<script lang=\"ts\">\nimport { MDBCol, MDBSpinner } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'Spinner',\n  components: {\n    MDBSpinner,\n    MDBCol,\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.custom-spinner {\n  position: fixed;\n  height: 80vh;\n  width: 100vw;\n}\n</style>\n","\nimport { MDBCol, MDBSpinner } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'Spinner',\n  components: {\n    MDBSpinner,\n    MDBCol,\n  },\n})\n","import { render } from \"./Spinner.vue?vue&type=template&id=2d917819&scoped=true\"\nimport script from \"./Spinner.vue?vue&type=script&lang=ts\"\nexport * from \"./Spinner.vue?vue&type=script&lang=ts\"\n\nimport \"./Spinner.vue?vue&type=style&index=0&id=2d917819&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-2d917819\"\n\nexport default script","export function textSlicer(input: string, length: number): string {\n  if (input.length <= length) return input\n  const sizeWithoutDots = length - 3\n  const sliced = input.slice(0, sizeWithoutDots)\n  return sliced + '...'\n}\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditProductsItem.vue?vue&type=style&index=0&id=280739c4&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditProductsFilter.vue?vue&type=style&index=0&id=f0c43208&scoped=true&lang=scss\"","import { EventBusInterface, Receiver, Subject } from '@/types/eventBus'\n\nclass EventBus implements EventBusInterface {\n  receivers: {\n    [key: string]: Receiver[]\n  } = {}\n  public async publish(topic: string, subject: Subject): Promise<void> {\n    const receivers = this.getTopicReceivers(topic)\n    receivers.map(\n      (receiver) => new Promise((resolve) => resolve(receiver(subject))),\n    )\n  }\n  private getTopicReceivers(topic: string): Receiver[] {\n    if (!this.receivers[topic]) {\n      return []\n    }\n    return this.receivers[topic]\n  }\n  // private retryPublish(\n  //   topic: string,\n  //   subject: Subject,\n  //   receiver: Receiver\n  // ): void {\n  //   receiver(subject)\n  // }\n\n  public subscribe(topic: string, receiver: Receiver): void {\n    if (!this.receivers[topic]) {\n      this.receivers[topic] = []\n    }\n    this.receivers[topic].push(receiver)\n  }\n  public unsubscribe(topic: string): void {\n    // public unsubscribe(topic: string): void {\n    if (!this.receivers[topic]) {\n      return\n    }\n    // this.receivers[topic] = this.receivers[topic].filter(\n    //   item => item !== receiver\n    // )\n    this.receivers[topic] = []\n  }\n}\n\n// class SmsNotificationService implements Receiver {\n//   receive(topic: string, subject: Subject): void {\n//     console.log('Sms event received', topic, subject)\n//   }\n// }\n//\n// class CustomReceiver implements Receiver {\n//   receive(topic: string, subject: Subject): void {\n//     console.log('Event received', topic, subject)\n//   }\n// }\n//\n// class EmailNotificationService implements Receiver {\n//   receive(topic: string, subject: Subject): void {\n//     console.log('Email event received', topic, subject)\n//   }\n// }\n\nexport const eventBus = new EventBus()\n// export const customReceiver = new CustomReceiver()\n// const emailService = new EmailNotificationService()\n\n// eventBus.subscribe('notification', smsService)\n// eventBus.subscribe('notification', emailService)\n//\n// eventBus.publish('notification', 'name')\n//\n// eventBus.unsubscribe('notification', smsService)\n// eventBus.publish('notification', 'name 2')\n\n// // /* eslint-disable */\n// class EventBus {\n//   events: any\n//   constructor() {\n//     this.events = {}\n//   }\n//\n//   on(eventName: string, fn: any): void {\n//     console.log(fn)\n//     this.events[eventName] = this.events[eventName] || []\n//     this.events[eventName].push(fn)\n//   }\n//\n//   // off(eventName, fn) {\n//   //   if (this.events[eventName]) {\n//   //     for (let i = 0; i < this.events[eventName].length; i++) {\n//   //       if (this.events[eventName][i] === fn) {\n//   //         this.events[eventName].splice(i, 1)\n//   //         break\n//   //       }\n//   //     }\n//   //   }\n//   // }\n//   emit(eventName: string, data: any): void {\n//     if (this.events[eventName]) {\n//       this.events[eventName].forEach(function(fn: any) {\n//         fn(data)\n//       })\n//     }\n//   }\n// }\n//\n// export default new EventBus()\n","<template>\n  <MDBContainer>\n    <MDBRow v-if=\"!loading\">\n      <MDBCol col=\"12\">\n        <EditProductsFilter />\n      </MDBCol>\n      <MDBCol\n        col=\"12\"\n        v-if=\"!loading && data && data.length === 0\"\n        class=\"d-flex justify-content-center pt-2\"\n      >\n        No products yet. You can&thinsp;\n        <router-link :to=\"{ name: 'create-product' }\">create one</router-link>.\n      </MDBCol>\n      <MDBCol v-else>\n        <MDBListGroup>\n          <EditProductsItem\n            v-for=\"(item, index) in data\"\n            :key=\"index\"\n            :data=\"item\"\n          />\n        </MDBListGroup>\n      </MDBCol>\n    </MDBRow>\n    <MDBRow><Spinner v-if=\"loading\" /></MDBRow>\n  </MDBContainer>\n</template>\n\n<script lang=\"ts\">\nimport { MDBCol, MDBContainer, MDBListGroup, MDBRow } from 'mdb-vue-ui-kit'\nimport { defineComponent, onUnmounted } from 'vue'\n\nimport { graphqlFetch, graphqlFetchBy } from '@/services/GraphqlService/GraphqlService'\nimport {\n  GET_PRODUCTS_EDITLIST,\n  GET_PRODUCTS_EDITLIST_BY_CATEGORY_ID,\n} from '@/services/GraphqlService/queries/productQueries'\nimport EditProductsFilter from '@/components/admin-layout/product/edit-products/EditProductsFilter.vue'\nimport EditProductsItem from '@/components/admin-layout/product/edit-products/EditProductsItem.vue'\nimport Spinner from '@/components/Spinner.vue'\nimport { eventBus } from '@/helpers/EventBus'\nimport {\n  awaitFetcher,\n  reactiveFetcher,\n} from '@/services/FetchService/FetchService'\nimport { useStore } from '@/store'\nimport { ProductEditItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'edit-products',\n  components: {\n    EditProductsItem,\n    MDBContainer,\n    MDBRow,\n    MDBCol,\n    MDBListGroup,\n    EditProductsFilter,\n    Spinner,\n  },\n  setup() {\n    const store = useStore()\n\n    const { data, loading } = reactiveFetcher<ProductEditItem[]>(\n      'NF',\n      '/products-edit-list',\n      () => graphqlFetch(GET_PRODUCTS_EDITLIST),\n    )\n\n    async function dataLoader(categoryId: string): Promise<void> {\n      loading.value = true\n      if (!categoryId) {\n        data.value = await awaitFetcher<ProductEditItem[]>(\n          'NF',\n          '/products-edit-list',\n          () => graphqlFetch(GET_PRODUCTS_EDITLIST),\n        )\n        loading.value = false\n        return\n      }\n      data.value = await awaitFetcher<ProductEditItem[]>(\n        'NF',\n        `/products-edit-list-${categoryId}`,\n        () =>\n          graphqlFetchBy(GET_PRODUCTS_EDITLIST_BY_CATEGORY_ID, {\n            categoryId: categoryId,\n          }),\n      )\n      loading.value = false\n    }\n\n    eventBus.subscribe('edit-products-update', async () => {\n      if (!store.getters.getCategoryDropdown) return\n      await dataLoader(store.getters.getCategoryDropdown)\n    })\n\n    const unwatch = store.watch(\n      () => store.getters.getCategoryDropdown,\n      async (value) => {\n        if (!value) return\n        await dataLoader(value)\n      },\n    )\n\n    onUnmounted(() => {\n      unwatch()\n      eventBus.unsubscribe('edit-products-update')\n    })\n    return { data, loading }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\"></style>\n","<template>\n  <MDBNavbar light bg=\"light\">\n    <div class=\"d-flex flex-column filter-title\">\n      <span>Sort by</span><span>category</span>\n    </div>\n    <!--    <CategoryDropdown />-->\n  </MDBNavbar>\n  <div class=\"filter-fake\" />\n</template>\n\n<script lang=\"ts\">\nimport { MDBNavbar } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\n\n// import CategoryDropdown from '@/components/CategoryDropdown/CategoryDropdown.vue'\n\nexport default defineComponent({\n  name: 'EditProductsFilter',\n  components: {\n    // CategoryDropdown,\n    MDBNavbar,\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.navbar {\n  height: 50px;\n  width: 100%;\n  padding: 5px;\n  position: fixed;\n  left: 0;\n  z-index: 2;\n}\n.filter-fake {\n  padding-bottom: 50px;\n}\n.filter-title {\n  line-height: 1.2;\n}\n</style>\n","\nimport { MDBNavbar } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\n\n// import CategoryDropdown from '@/components/CategoryDropdown/CategoryDropdown.vue'\n\nexport default defineComponent({\n  name: 'EditProductsFilter',\n  components: {\n    // CategoryDropdown,\n    MDBNavbar,\n  },\n})\n","import { render } from \"./EditProductsFilter.vue?vue&type=template&id=f0c43208&scoped=true\"\nimport script from \"./EditProductsFilter.vue?vue&type=script&lang=ts\"\nexport * from \"./EditProductsFilter.vue?vue&type=script&lang=ts\"\n\nimport \"./EditProductsFilter.vue?vue&type=style&index=0&id=f0c43208&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-f0c43208\"\n\nexport default script","<template>\n  <MDBListGroupItem>\n    <div class=\"edit-item\">\n      <div class=\"edit-item__image\">\n        <ProductImage\n          height=\"140px\"\n          width=\"140px\"\n          :name=\"data.name\"\n          :img-url=\"data.imgUrl\"\n        />\n      </div>\n      <div class=\"edit-item__id\">ID: {{ data.id }}</div>\n      <div class=\"edit-item__name\">Name: {{ textSlicer(data.name, 20) }}</div>\n      <div class=\"edit-item__controls\">\n        <MDBBtn color=\"dark\" @click=\"removeItem\">Delete</MDBBtn>\n        <router-link\n          class=\"btn btn-light\"\n          :to=\"{ name: 'edit-product', params: { id: data.id } }\"\n        >\n          Edit\n        </router-link>\n      </div>\n    </div>\n  </MDBListGroupItem>\n</template>\n\n<script lang=\"ts\">\nimport { MDBBtn, MDBListGroupItem } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\nimport { useToast } from 'vue-toastification'\n\nimport { graphqlDelete } from '@/services/GraphqlService/GraphqlService'\nimport ProductImage from '@/components/public-layout/Product/ProductImage.vue'\nimport { eventBus } from '@/helpers/EventBus'\nimport { textSlicer } from '@/services/TextSlicerService/TextSlicerService'\nimport { ProductEditItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'EditProductsItem',\n  components: { ProductImage, MDBBtn, MDBListGroupItem },\n  props: {\n    data: {\n      type: Object as () => ProductEditItem,\n    },\n  },\n  setup(props) {\n    const toast = useToast()\n    const removeItem = (): void => {\n      if (!props.data) return\n      graphqlDelete('product', props.data.id)\n      toast.error('Product has been deleted!')\n      eventBus.publish('edit-products-update', undefined)\n    }\n    return { textSlicer, removeItem }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.edit-item {\n  width: 100%;\n  display: grid;\n  grid-template-columns: auto 1fr;\n  grid-template-rows: 1fr 1fr 1fr;\n  gap: 5px 20px;\n  align-items: center;\n  grid-template-areas:\n    'image id'\n    'image name'\n    'image controls';\n  &__image {\n    grid-area: image;\n  }\n  &__id {\n    grid-area: id;\n    font-size: 0.8rem;\n  }\n  &__name {\n    grid-area: name;\n    font-weight: 500;\n  }\n  &__controls {\n    grid-area: controls;\n    justify-self: end;\n  }\n}\n</style>\n","\nimport { MDBBtn, MDBListGroupItem } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\nimport { useToast } from 'vue-toastification'\n\nimport { graphqlDelete } from '@/services/GraphqlService/GraphqlService'\nimport ProductImage from '@/components/public-layout/Product/ProductImage.vue'\nimport { eventBus } from '@/helpers/EventBus'\nimport { textSlicer } from '@/services/TextSlicerService/TextSlicerService'\nimport { ProductEditItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'EditProductsItem',\n  components: { ProductImage, MDBBtn, MDBListGroupItem },\n  props: {\n    data: {\n      type: Object as () => ProductEditItem,\n    },\n  },\n  setup(props) {\n    const toast = useToast()\n    const removeItem = (): void => {\n      if (!props.data) return\n      graphqlDelete('product', props.data.id)\n      toast.error('Product has been deleted!')\n      eventBus.publish('edit-products-update', undefined)\n    }\n    return { textSlicer, removeItem }\n  },\n})\n","import { render } from \"./EditProductsItem.vue?vue&type=template&id=280739c4&scoped=true\"\nimport script from \"./EditProductsItem.vue?vue&type=script&lang=ts\"\nexport * from \"./EditProductsItem.vue?vue&type=script&lang=ts\"\n\nimport \"./EditProductsItem.vue?vue&type=style&index=0&id=280739c4&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-280739c4\"\n\nexport default script","\nimport { MDBCol, MDBContainer, MDBListGroup, MDBRow } from 'mdb-vue-ui-kit'\nimport { defineComponent, onUnmounted } from 'vue'\n\nimport { graphqlFetch, graphqlFetchBy } from '@/services/GraphqlService/GraphqlService'\nimport {\n  GET_PRODUCTS_EDITLIST,\n  GET_PRODUCTS_EDITLIST_BY_CATEGORY_ID,\n} from '@/services/GraphqlService/queries/productQueries'\nimport EditProductsFilter from '@/components/admin-layout/product/edit-products/EditProductsFilter.vue'\nimport EditProductsItem from '@/components/admin-layout/product/edit-products/EditProductsItem.vue'\nimport Spinner from '@/components/Spinner.vue'\nimport { eventBus } from '@/helpers/EventBus'\nimport {\n  awaitFetcher,\n  reactiveFetcher,\n} from '@/services/FetchService/FetchService'\nimport { useStore } from '@/store'\nimport { ProductEditItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'edit-products',\n  components: {\n    EditProductsItem,\n    MDBContainer,\n    MDBRow,\n    MDBCol,\n    MDBListGroup,\n    EditProductsFilter,\n    Spinner,\n  },\n  setup() {\n    const store = useStore()\n\n    const { data, loading } = reactiveFetcher<ProductEditItem[]>(\n      'NF',\n      '/products-edit-list',\n      () => graphqlFetch(GET_PRODUCTS_EDITLIST),\n    )\n\n    async function dataLoader(categoryId: string): Promise<void> {\n      loading.value = true\n      if (!categoryId) {\n        data.value = await awaitFetcher<ProductEditItem[]>(\n          'NF',\n          '/products-edit-list',\n          () => graphqlFetch(GET_PRODUCTS_EDITLIST),\n        )\n        loading.value = false\n        return\n      }\n      data.value = await awaitFetcher<ProductEditItem[]>(\n        'NF',\n        `/products-edit-list-${categoryId}`,\n        () =>\n          graphqlFetchBy(GET_PRODUCTS_EDITLIST_BY_CATEGORY_ID, {\n            categoryId: categoryId,\n          }),\n      )\n      loading.value = false\n    }\n\n    eventBus.subscribe('edit-products-update', async () => {\n      if (!store.getters.getCategoryDropdown) return\n      await dataLoader(store.getters.getCategoryDropdown)\n    })\n\n    const unwatch = store.watch(\n      () => store.getters.getCategoryDropdown,\n      async (value) => {\n        if (!value) return\n        await dataLoader(value)\n      },\n    )\n\n    onUnmounted(() => {\n      unwatch()\n      eventBus.unsubscribe('edit-products-update')\n    })\n    return { data, loading }\n  },\n})\n","import { render } from \"./edit-products.vue?vue&type=template&id=34f1695d\"\nimport script from \"./edit-products.vue?vue&type=script&lang=ts\"\nexport * from \"./edit-products.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}