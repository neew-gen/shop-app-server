{"version":3,"sources":["webpack:///./src/components/public-layout/ProductsList/ProductsList.vue","webpack:///./src/components/public-layout/ProductsList/ProductsListItem.vue","webpack:///./src/components/public-layout/ProductsList/ProductsListItem.vue?7c26","webpack:///./src/components/public-layout/ProductsList/ProductsListItem.vue?bf7f","webpack:///./src/components/public-layout/ProductsList/ProductsList.vue?83ad","webpack:///./src/components/public-layout/ProductsList/ProductsList.vue?50fa","webpack:///./src/components/public-layout/ProductsList/ProductsListSkeleton.vue","webpack:///./src/components/public-layout/ProductsList/ProductsListSkeleton.vue?fc40","webpack:///./src/components/public-layout/ProductsList/ProductsListSkeleton.vue?1109","webpack:///./src/components/public-layout/catalog/ProductsFilterMenu/ProductsFilterMenu.vue?d25d","webpack:///./src/components/public-layout/ProductsList/ProductsListSkeleton.vue?b9c7","webpack:///./src/views/public-layout/catalog/catalog-products.vue","webpack:///./src/components/public-layout/catalog/ProductsFilterMenu/ProductsFilterMenu.vue","webpack:///./src/components/public-layout/catalog/ProductsFilterMenu/ProductsFilterMenu.vue?c329","webpack:///./src/components/public-layout/catalog/ProductsFilterMenu/ProductsFilterMenu.vue?aa81","webpack:///./src/views/public-layout/catalog/catalog-products.vue?4682","webpack:///./src/views/public-layout/catalog/catalog-products.vue?bdb4","webpack:///./src/components/public-layout/ProductsList/ProductsListItem.vue?1078"],"names":["data","item","key","_id","class","col","pushToProduct","productData","discount","percentage","images","height","width","price","toFixed","discountPrice","icon","size","iconStyle","name","props","type","Object","required","components","ProductImage","MDBCol","MDBIcon","setup","router","push","params","discountValue","render","__scopeId","Array","ProductsListItem","SKELETON_COUNT","updateFilter","loading","showDropdown","align","filters","activeOrder","aria-labelledby","setDropdown","MDBDropdown","MDBDropdownToggle","MDBDropdownMenu","MDBDropdownItem","emits","emit","value","newValue","categoryId","String","ProductsList","ProductsListSkeleton","ProductsFilterMenu","e","Promise","conditionKey","keys","condition","cacheName","split","join","sortBy","sortParam"],"mappings":"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","file":"js/catalog-products.9393c1c9.js","sourcesContent":["<template>\n  <ProductsListItem v-for=\"item in data\" :key=\"item._id\" :data=\"item\" />\n</template>\n\n<script lang=\"ts\">\nimport { MDBContainer, MDBRow } from 'mdb-vue-ui-kit'\nimport { defineComponent, PropType } from 'vue'\n\nimport ProductsListItem from '@/components/public-layout/ProductsList/ProductsListItem.vue'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'ProductsList',\n  props: {\n    data: {\n      type: Array as PropType<ProductListItem[]>,\n    },\n  },\n\n  components: {\n    ProductsListItem,\n    // MDBContainer,\n    // MDBRow,\n  },\n})\n</script>\n\n<style scoped lang=\"scss\"></style>\n","<template>\n  <MDBCol class=\"d-flex flex-column\" col=\"6\">\n    <!--    v-mdb-ripple=\"{ duration: 1000 }\"-->\n    <div class=\"item-wrapper\" @click=\"pushToProduct(data._id)\">\n      <div class=\"image-wrapper\">\n        <div v-if=\"data.productData.discount\" class=\"percentage\">\n          -{{ data.productData.discount.percentage }}%\n        </div>\n        <ProductImage\n          :images=\"[data.productData.images[0]]\"\n          height=\"150px\"\n          width=\"100%\"\n        />\n      </div>\n      <div class=\"price-row\">\n        <div v-if=\"!data.productData.discount\" class=\"price-row__price\">\n          {{ data.productData.price.toFixed(2) }}&ensp;dol.\n        </div>\n        <div v-if=\"data.productData.discount\" class=\"price-row__price sale\">\n          <div class=\"sale__old-price\">\n            {{ data.productData.price.toFixed(2) }}\n          </div>\n          <div class=\"sale__new-price\">{{ discountPrice }}&ensp;dol.</div>\n        </div>\n        <MDBIcon class=\"sale__like\" icon=\"heart\" size=\"lg\" iconStyle=\"far\" />\n      </div>\n      <div class=\"name-row\">\n        {{ data.productData.name }}\n      </div>\n    </div>\n  </MDBCol>\n</template>\n\n<script lang=\"ts\">\nimport {\n  MDBCol,\n  MDBIcon,\n  // mdbRipple\n} from 'mdb-vue-ui-kit'\nimport { computed, ComputedRef, defineComponent, PropType } from 'vue'\n\nimport ProductImage from '@/components/public-layout/Product/ProductImage.vue'\nimport router from '@/router'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'ProductsListItem',\n  props: {\n    data: {\n      type: Object as PropType<ProductListItem>,\n      required: true,\n    },\n  },\n  components: {\n    ProductImage,\n    MDBCol,\n    MDBIcon,\n  },\n  // directives: {\n  //   mdbRipple,\n  // },\n  setup(props) {\n    const pushToProduct = (_id: string): void => {\n      router.push({\n        name: 'catalog-product',\n        params: { _id },\n      })\n      // setTimeout(() => {\n      //   router.push({\n      //     name: 'CatalogProduct',\n      //     params: { id },\n      //   })\n      // }, 100)\n    }\n    const discountPrice: ComputedRef<string | undefined> = computed(() => {\n      const { price, discount } = props.data.productData\n      if (!discount) return\n      const discountValue = (price / 100) * discount.percentage\n      return (price - discountValue).toFixed(2)\n    })\n    return { pushToProduct, discountPrice }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.item-wrapper {\n  margin: 3px;\n}\n\n.image-wrapper {\n  position: relative;\n}\n.percentage {\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  background: #f93154;\n  color: #ffffff;\n  padding: 0 3px;\n  font-size: 0.7rem;\n  font-weight: 500;\n  border-radius: 3px;\n}\n\n.price-row {\n  padding: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  &__price {\n    font-size: 0.9rem;\n    font-weight: 600;\n  }\n  &__like {\n    justify-self: end;\n  }\n}\n\n.sale {\n  display: flex;\n  align-items: center;\n  &__old-price {\n    color: #4f4f4f;\n    font-size: 0.9rem;\n    font-weight: 400;\n    text-decoration: line-through;\n  }\n  &__new-price {\n    padding-left: 2px;\n  }\n}\n\n.name-row {\n  padding: 5px;\n  height: 61px;\n  font-size: 0.9rem;\n  line-height: 1.2;\n}\n@media (min-width: 540px) {\n  .percentage {\n    font-size: 0.8rem;\n  }\n  .price-row {\n    &__price {\n      font-size: 1.1rem;\n    }\n  }\n}\n</style>\n","\nimport {\n  MDBCol,\n  MDBIcon,\n  // mdbRipple\n} from 'mdb-vue-ui-kit'\nimport { computed, ComputedRef, defineComponent, PropType } from 'vue'\n\nimport ProductImage from '@/components/public-layout/Product/ProductImage.vue'\nimport router from '@/router'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'ProductsListItem',\n  props: {\n    data: {\n      type: Object as PropType<ProductListItem>,\n      required: true,\n    },\n  },\n  components: {\n    ProductImage,\n    MDBCol,\n    MDBIcon,\n  },\n  // directives: {\n  //   mdbRipple,\n  // },\n  setup(props) {\n    const pushToProduct = (_id: string): void => {\n      router.push({\n        name: 'catalog-product',\n        params: { _id },\n      })\n      // setTimeout(() => {\n      //   router.push({\n      //     name: 'CatalogProduct',\n      //     params: { id },\n      //   })\n      // }, 100)\n    }\n    const discountPrice: ComputedRef<string | undefined> = computed(() => {\n      const { price, discount } = props.data.productData\n      if (!discount) return\n      const discountValue = (price / 100) * discount.percentage\n      return (price - discountValue).toFixed(2)\n    })\n    return { pushToProduct, discountPrice }\n  },\n})\n","import { render } from \"./ProductsListItem.vue?vue&type=template&id=34b0e904&scoped=true\"\nimport script from \"./ProductsListItem.vue?vue&type=script&lang=ts\"\nexport * from \"./ProductsListItem.vue?vue&type=script&lang=ts\"\n\nimport \"./ProductsListItem.vue?vue&type=style&index=0&id=34b0e904&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-34b0e904\"\n\nexport default script","\nimport { MDBContainer, MDBRow } from 'mdb-vue-ui-kit'\nimport { defineComponent, PropType } from 'vue'\n\nimport ProductsListItem from '@/components/public-layout/ProductsList/ProductsListItem.vue'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'ProductsList',\n  props: {\n    data: {\n      type: Array as PropType<ProductListItem[]>,\n    },\n  },\n\n  components: {\n    ProductsListItem,\n    // MDBContainer,\n    // MDBRow,\n  },\n})\n","import { render } from \"./ProductsList.vue?vue&type=template&id=154c0b0f\"\nimport script from \"./ProductsList.vue?vue&type=script&lang=ts\"\nexport * from \"./ProductsList.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <MDBCol\n    class=\"d-flex flex-column\"\n    col=\"6\"\n    v-for=\"item in SKELETON_COUNT\"\n    :key=\"item\"\n  >\n    <div class=\"item-wrapper ssc\">\n      <div class=\"ssc-square item-image\" />\n      <div class=\"price-row\">\n        <div class=\"ssc-line price-row__price\" />\n      </div>\n      <div class=\"name-row\">\n        <div class=\"ssc-line name-row__line\" />\n        <div class=\"ssc-line name-row__line\" />\n        <div class=\"ssc-line name-row__line\" />\n      </div>\n    </div>\n  </MDBCol>\n</template>\n\n<script lang=\"ts\">\nimport { MDBCol } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\nconst SKELETON_COUNT = 8\n\nexport default defineComponent({\n  name: 'ProductsListSkeleton',\n  components: {\n    MDBCol,\n  },\n  setup() {\n    return {\n      SKELETON_COUNT,\n    }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.item-wrapper {\n  margin: 3px;\n}\n.price-row {\n  height: 38px;\n  padding: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  &__price {\n    height: 17.6px;\n    width: 100%;\n    margin: 0;\n  }\n}\n.name-row {\n  padding: 5px;\n  height: 61px;\n  display: flex;\n  flex-direction: column;\n  &__line {\n    height: 14.4px;\n    width: 100%;\n  }\n}\n.item-image {\n  height: 150px;\n  width: 100%;\n}\n</style>\n","\nimport { MDBCol } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\nconst SKELETON_COUNT = 8\n\nexport default defineComponent({\n  name: 'ProductsListSkeleton',\n  components: {\n    MDBCol,\n  },\n  setup() {\n    return {\n      SKELETON_COUNT,\n    }\n  },\n})\n","import { render } from \"./ProductsListSkeleton.vue?vue&type=template&id=149e76d5&scoped=true\"\nimport script from \"./ProductsListSkeleton.vue?vue&type=script&lang=ts\"\nexport * from \"./ProductsListSkeleton.vue?vue&type=script&lang=ts\"\n\nimport \"./ProductsListSkeleton.vue?vue&type=style&index=0&id=149e76d5&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-149e76d5\"\n\nexport default script","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductsFilterMenu.vue?vue&type=style&index=0&id=0fccccf4&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductsListSkeleton.vue?vue&type=style&index=0&id=149e76d5&scoped=true&lang=scss\"","<template>\n  <ProductsFilterMenu @updateFilter=\"updateFilter\" />\n  <ProductsList v-if=\"!loading\" :data=\"data\" />\n  <ProductsListSkeleton v-if=\"loading\" />\n</template>\n\n<script lang=\"ts\">\nimport { lowerCase } from 'lodash'\nimport { defineComponent, Ref, ref } from 'vue'\n\nimport ProductsFilterMenu from '@/components/public-layout/catalog/ProductsFilterMenu/ProductsFilterMenu.vue'\nimport ProductsList from '@/components/public-layout/ProductsList/ProductsList.vue'\nimport ProductsListSkeleton from '@/components/public-layout/ProductsList/ProductsListSkeleton.vue'\nimport { awaitFetcher } from '@/services/FetchService/FetchService'\nimport { graphqlFetchBy } from '@/services/GraphqlService/GraphqlService'\nimport { GET_PRODUCTS_CATALOG_LIST } from '@/services/GraphqlService/queries/productQueries'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'catalog-products',\n  props: {\n    categoryId: {\n      type: String,\n      required: true,\n    },\n  },\n  components: {\n    ProductsList,\n    ProductsListSkeleton,\n    ProductsFilterMenu,\n  },\n  setup(props) {\n    const data: Ref<ProductListItem[] | undefined> = ref([])\n    const loading: Ref<boolean> = ref(true)\n\n    const updateFilter = async (e: any): Promise<void> => {\n      loading.value = true\n      const conditionKey = Object.keys(e.condition)[0]\n      const cacheName = lowerCase(e.name).split(' ').join('-')\n      data.value = await awaitFetcher<ProductListItem[]>(\n        'NF',\n        `/catalog-products-${props.categoryId}-${cacheName}`,\n        () =>\n          graphqlFetchBy(GET_PRODUCTS_CATALOG_LIST, {\n            categoryId: props.categoryId,\n            sortBy: conditionKey,\n            sortParam: e.condition[conditionKey],\n          }),\n      )\n      loading.value = false\n    }\n    return {\n      data,\n      loading,\n      updateFilter,\n    }\n    // const { data, loading } = useFetch<Product[]>(\n    //   'SWR',\n    //   `/catalog-products-${props.categoryId}`,\n    //   () =>\n    //     graphqlFetchBy(GET_PRODUCTS_CATALOG_LIST_BY_CATEGORY_ID, {\n    //       categoryId: props.categoryId,\n    //     }),\n    // )\n    // return { data, loading }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\"></style>\n","<template>\n  <MDBCol col=\"12\">\n    <MDBDropdown class=\"my-1\" v-model=\"showDropdown\" :align=\"'end'\">\n      <MDBDropdownToggle\n        class=\"category-dropdown\"\n        @click=\"showDropdown = !showDropdown\"\n      >\n        <span> {{ filters[activeOrder].name }}</span>\n      </MDBDropdownToggle>\n      <MDBDropdownMenu aria-labelledby=\"dropdownMenuButton\">\n        <MDBDropdownItem\n          class=\"dropdown-item\"\n          v-for=\"(item, key) in filters\"\n          :key=\"key\"\n          @mouseup=\"setDropdown(key)\"\n        >\n          {{ item.name }}\n        </MDBDropdownItem>\n      </MDBDropdownMenu>\n    </MDBDropdown>\n  </MDBCol>\n</template>\n\n<script lang=\"ts\">\nimport {\n  MDBCol,\n  MDBDropdown,\n  MDBDropdownItem,\n  MDBDropdownMenu,\n  MDBDropdownToggle,\n} from 'mdb-vue-ui-kit'\nimport { defineComponent, onUnmounted, reactive, Ref, ref } from 'vue'\n\n// import { useFetch } from '@/api/fetch/useFetch'\nimport { graphqlFetch } from '@/services/GraphqlService/GraphqlService'\nimport { GET_CATEGORIES_DROPDOWN } from '@/services/GraphqlService/queries/categoryQueries'\nimport { CategoryDropdownType } from '@/types/category'\nimport { ProductDiscountInput } from '@/types/product'\n\nimport productFilterData from './data.json'\n\nexport default defineComponent({\n  name: 'ProductFilterMenu',\n  components: {\n    MDBCol,\n    MDBDropdown,\n    MDBDropdownToggle,\n    MDBDropdownMenu,\n    MDBDropdownItem,\n  },\n  emits: ['updateFilter'],\n  setup(props, { emit }) {\n    const showDropdown = ref(false)\n    // TODO need to type this\n    const filters = productFilterData.filters\n    const activeOrder: Ref<keyof typeof filters> = ref('newer')\n\n    emit('updateFilter', filters[activeOrder.value])\n\n    const setDropdown = (newValue: keyof typeof filters): void => {\n      activeOrder.value = newValue\n      emit('updateFilter', filters[activeOrder.value])\n      showDropdown.value = false\n    }\n    return {\n      showDropdown,\n      activeOrder,\n      setDropdown,\n      filters,\n    }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.category-dropdown {\n  width: 153px;\n}\n</style>\n","\nimport {\n  MDBCol,\n  MDBDropdown,\n  MDBDropdownItem,\n  MDBDropdownMenu,\n  MDBDropdownToggle,\n} from 'mdb-vue-ui-kit'\nimport { defineComponent, onUnmounted, reactive, Ref, ref } from 'vue'\n\n// import { useFetch } from '@/api/fetch/useFetch'\nimport { graphqlFetch } from '@/services/GraphqlService/GraphqlService'\nimport { GET_CATEGORIES_DROPDOWN } from '@/services/GraphqlService/queries/categoryQueries'\nimport { CategoryDropdownType } from '@/types/category'\nimport { ProductDiscountInput } from '@/types/product'\n\nimport productFilterData from './data.json'\n\nexport default defineComponent({\n  name: 'ProductFilterMenu',\n  components: {\n    MDBCol,\n    MDBDropdown,\n    MDBDropdownToggle,\n    MDBDropdownMenu,\n    MDBDropdownItem,\n  },\n  emits: ['updateFilter'],\n  setup(props, { emit }) {\n    const showDropdown = ref(false)\n    // TODO need to type this\n    const filters = productFilterData.filters\n    const activeOrder: Ref<keyof typeof filters> = ref('newer')\n\n    emit('updateFilter', filters[activeOrder.value])\n\n    const setDropdown = (newValue: keyof typeof filters): void => {\n      activeOrder.value = newValue\n      emit('updateFilter', filters[activeOrder.value])\n      showDropdown.value = false\n    }\n    return {\n      showDropdown,\n      activeOrder,\n      setDropdown,\n      filters,\n    }\n  },\n})\n","import { render } from \"./ProductsFilterMenu.vue?vue&type=template&id=0fccccf4&scoped=true\"\nimport script from \"./ProductsFilterMenu.vue?vue&type=script&lang=ts\"\nexport * from \"./ProductsFilterMenu.vue?vue&type=script&lang=ts\"\n\nimport \"./ProductsFilterMenu.vue?vue&type=style&index=0&id=0fccccf4&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0fccccf4\"\n\nexport default script","\nimport { lowerCase } from 'lodash'\nimport { defineComponent, Ref, ref } from 'vue'\n\nimport ProductsFilterMenu from '@/components/public-layout/catalog/ProductsFilterMenu/ProductsFilterMenu.vue'\nimport ProductsList from '@/components/public-layout/ProductsList/ProductsList.vue'\nimport ProductsListSkeleton from '@/components/public-layout/ProductsList/ProductsListSkeleton.vue'\nimport { awaitFetcher } from '@/services/FetchService/FetchService'\nimport { graphqlFetchBy } from '@/services/GraphqlService/GraphqlService'\nimport { GET_PRODUCTS_CATALOG_LIST } from '@/services/GraphqlService/queries/productQueries'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'catalog-products',\n  props: {\n    categoryId: {\n      type: String,\n      required: true,\n    },\n  },\n  components: {\n    ProductsList,\n    ProductsListSkeleton,\n    ProductsFilterMenu,\n  },\n  setup(props) {\n    const data: Ref<ProductListItem[] | undefined> = ref([])\n    const loading: Ref<boolean> = ref(true)\n\n    const updateFilter = async (e: any): Promise<void> => {\n      loading.value = true\n      const conditionKey = Object.keys(e.condition)[0]\n      const cacheName = lowerCase(e.name).split(' ').join('-')\n      data.value = await awaitFetcher<ProductListItem[]>(\n        'NF',\n        `/catalog-products-${props.categoryId}-${cacheName}`,\n        () =>\n          graphqlFetchBy(GET_PRODUCTS_CATALOG_LIST, {\n            categoryId: props.categoryId,\n            sortBy: conditionKey,\n            sortParam: e.condition[conditionKey],\n          }),\n      )\n      loading.value = false\n    }\n    return {\n      data,\n      loading,\n      updateFilter,\n    }\n    // const { data, loading } = useFetch<Product[]>(\n    //   'SWR',\n    //   `/catalog-products-${props.categoryId}`,\n    //   () =>\n    //     graphqlFetchBy(GET_PRODUCTS_CATALOG_LIST_BY_CATEGORY_ID, {\n    //       categoryId: props.categoryId,\n    //     }),\n    // )\n    // return { data, loading }\n  },\n})\n","import { render } from \"./catalog-products.vue?vue&type=template&id=f8b6a3b0\"\nimport script from \"./catalog-products.vue?vue&type=script&lang=ts\"\nexport * from \"./catalog-products.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductsListItem.vue?vue&type=style&index=0&id=34b0e904&scoped=true&lang=scss\""],"sourceRoot":""}