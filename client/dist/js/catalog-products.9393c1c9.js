(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["catalog-products"],{"07b5":function(e,t,o){"use strict";var c=o("7a23");function a(e,t,o,a,n,r){const d=Object(c["resolveComponent"])("ProductsListItem");return Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.data,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:e._id,data:e},null,8,["data"]))),128)}const n=Object(c["withScopeId"])("data-v-34b0e904");Object(c["pushScopeId"])("data-v-34b0e904");const r={class:"image-wrapper"},d={key:0,class:"percentage"},s={class:"price-row"},i={key:0,class:"price-row__price"},l={key:1,class:"price-row__price sale"},p={class:"sale__old-price"},u={class:"sale__new-price"},b={class:"name-row"};Object(c["popScopeId"])();const O=n((e,t,o,a,O,j)=>{const m=Object(c["resolveComponent"])("ProductImage"),v=Object(c["resolveComponent"])("MDBIcon"),D=Object(c["resolveComponent"])("MDBCol");return Object(c["openBlock"])(),Object(c["createBlock"])(D,{class:"d-flex flex-column",col:"6"},{default:n(()=>[Object(c["createVNode"])("div",{class:"item-wrapper",onClick:t[1]||(t[1]=t=>e.pushToProduct(e.data._id))},[Object(c["createVNode"])("div",r,[e.data.productData.discount?(Object(c["openBlock"])(),Object(c["createBlock"])("div",d," -"+Object(c["toDisplayString"])(e.data.productData.discount.percentage)+"% ",1)):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(m,{images:[e.data.productData.images[0]],height:"150px",width:"100%"},null,8,["images"])]),Object(c["createVNode"])("div",s,[e.data.productData.discount?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])("div",i,Object(c["toDisplayString"])(e.data.productData.price.toFixed(2))+" dol. ",1)),e.data.productData.discount?(Object(c["openBlock"])(),Object(c["createBlock"])("div",l,[Object(c["createVNode"])("div",p,Object(c["toDisplayString"])(e.data.productData.price.toFixed(2)),1),Object(c["createVNode"])("div",u,Object(c["toDisplayString"])(e.discountPrice)+" dol.",1)])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(v,{class:"sale__like",icon:"heart",size:"lg",iconStyle:"far"})]),Object(c["createVNode"])("div",b,Object(c["toDisplayString"])(e.data.productData.name),1)])]),_:1})});var j=o("d318"),m=o("83dd"),v=o("afbc"),D=Object(c["defineComponent"])({name:"ProductsListItem",props:{data:{type:Object,required:!0}},components:{ProductImage:m["a"],MDBCol:j["MDBCol"],MDBIcon:j["MDBIcon"]},setup:function(e){var t=function(e){v["a"].push({name:"catalog-product",params:{_id:e}})},o=Object(c["computed"])((function(){var t=e.data.productData,o=t.price,c=t.discount;if(c){var a=o/100*c.percentage;return(o-a).toFixed(2)}}));return{pushToProduct:t,discountPrice:o}}});o("ae98");D.render=O,D.__scopeId="data-v-34b0e904";var f=D,w=Object(c["defineComponent"])({name:"ProductsList",props:{data:{type:Array}},components:{ProductsListItem:f}});w.render=a;t["a"]=w},"348e":function(e,t,o){"use strict";var c=o("7a23");const a=Object(c["withScopeId"])("data-v-149e76d5");Object(c["pushScopeId"])("data-v-149e76d5");const n=Object(c["createVNode"])("div",{class:"item-wrapper ssc"},[Object(c["createVNode"])("div",{class:"ssc-square item-image"}),Object(c["createVNode"])("div",{class:"price-row"},[Object(c["createVNode"])("div",{class:"ssc-line price-row__price"})]),Object(c["createVNode"])("div",{class:"name-row"},[Object(c["createVNode"])("div",{class:"ssc-line name-row__line"}),Object(c["createVNode"])("div",{class:"ssc-line name-row__line"}),Object(c["createVNode"])("div",{class:"ssc-line name-row__line"})])],-1);Object(c["popScopeId"])();const r=a((e,t,o,r,d,s)=>{const i=Object(c["resolveComponent"])("MDBCol");return Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.SKELETON_COUNT,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(i,{class:"d-flex flex-column",col:"6",key:e},{default:a(()=>[n]),_:2},1024))),128)});var d=o("d318"),s=8,i=Object(c["defineComponent"])({name:"ProductsListSkeleton",components:{MDBCol:d["MDBCol"]},setup:function(){return{SKELETON_COUNT:s}}});o("6433");i.render=r,i.__scopeId="data-v-149e76d5";t["a"]=i},"41e9":function(e,t,o){"use strict";o("661c")},6433:function(e,t,o){"use strict";o("9dea")},"661c":function(e,t,o){},"70ae":function(e){e.exports=JSON.parse('{"filters":{"newer":{"name":"New first","condition":{"createdAt":"ASC"}},"older":{"name":"Old first","condition":{"createdAt":"DESC"}},"cheaper":{"name":"Cheapest first","condition":{"productData.price":"ASC"}},"expensive":{"name":"Expensive first","condition":{"productData.price":"DESC"}},"popular":{"name":"Popular first","condition":{"price":"DESC"}}}}')},"9d95":function(e,t,o){"use strict";o.r(t);var c=o("7a23");function a(e,t,o,a,n,r){const d=Object(c["resolveComponent"])("ProductsFilterMenu"),s=Object(c["resolveComponent"])("ProductsList"),i=Object(c["resolveComponent"])("ProductsListSkeleton");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(d,{onUpdateFilter:e.updateFilter},null,8,["onUpdateFilter"]),e.loading?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:0,data:e.data},null,8,["data"])),e.loading?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:1})):Object(c["createCommentVNode"])("",!0)],64)}var n=o("9ab4"),r=o("2ef0");const d=Object(c["withScopeId"])("data-v-0fccccf4"),s=d((e,t,o,a,n,r)=>{const s=Object(c["resolveComponent"])("MDBDropdownToggle"),i=Object(c["resolveComponent"])("MDBDropdownItem"),l=Object(c["resolveComponent"])("MDBDropdownMenu"),p=Object(c["resolveComponent"])("MDBDropdown"),u=Object(c["resolveComponent"])("MDBCol");return Object(c["openBlock"])(),Object(c["createBlock"])(u,{col:"12"},{default:d(()=>[Object(c["createVNode"])(p,{class:"my-1",modelValue:e.showDropdown,"onUpdate:modelValue":t[2]||(t[2]=t=>e.showDropdown=t),align:"end"},{default:d(()=>[Object(c["createVNode"])(s,{class:"category-dropdown",onClick:t[1]||(t[1]=t=>e.showDropdown=!e.showDropdown)},{default:d(()=>[Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(e.filters[e.activeOrder].name),1)]),_:1}),Object(c["createVNode"])(l,{"aria-labelledby":"dropdownMenuButton"},{default:d(()=>[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.filters,(t,o)=>(Object(c["openBlock"])(),Object(c["createBlock"])(i,{class:"dropdown-item",key:o,onMouseup:t=>e.setDropdown(o)},{default:d(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.name),1)]),_:2},1032,["onMouseup"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})});var i=o("d318"),l=o("70ae"),p=Object(c["defineComponent"])({name:"ProductFilterMenu",components:{MDBCol:i["MDBCol"],MDBDropdown:i["MDBDropdown"],MDBDropdownToggle:i["MDBDropdownToggle"],MDBDropdownMenu:i["MDBDropdownMenu"],MDBDropdownItem:i["MDBDropdownItem"]},emits:["updateFilter"],setup:function(e,t){var o=t.emit,a=Object(c["ref"])(!1),n=l.filters,r=Object(c["ref"])("newer");o("updateFilter",n[r.value]);var d=function(e){r.value=e,o("updateFilter",n[r.value]),a.value=!1};return{showDropdown:a,activeOrder:r,setDropdown:d,filters:n}}});o("41e9");p.render=s,p.__scopeId="data-v-0fccccf4";var u=p,b=o("07b5"),O=o("348e"),j=o("f23c"),m=o("9812"),v=o("e722"),D=Object(c["defineComponent"])({name:"catalog-products",props:{categoryId:{type:String,required:!0}},components:{ProductsList:b["a"],ProductsListSkeleton:O["a"],ProductsFilterMenu:u},setup:function(e){var t=this,o=Object(c["ref"])([]),a=Object(c["ref"])(!0),d=function(c){return Object(n["b"])(t,void 0,Promise,(function(){var t,d,s;return Object(n["d"])(this,(function(n){switch(n.label){case 0:return a.value=!0,t=Object.keys(c.condition)[0],d=Object(r["lowerCase"])(c.name).split(" ").join("-"),s=o,[4,Object(j["a"])("NF","/catalog-products-"+e.categoryId+"-"+d,(function(){return Object(m["d"])(v["d"],{categoryId:e.categoryId,sortBy:t,sortParam:c.condition[t]})}))];case 1:return s.value=n.sent(),a.value=!1,[2]}}))}))};return{data:o,loading:a,updateFilter:d}}});D.render=a;t["default"]=D},"9dea":function(e,t,o){},ae98:function(e,t,o){"use strict";o("d04b")},d04b:function(e,t,o){}}]);
//# sourceMappingURL=catalog-products.9393c1c9.js.map