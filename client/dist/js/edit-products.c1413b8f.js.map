{"version":3,"sources":["webpack:///./src/components/CategoryDropdown/CategoryDropdown.vue","webpack:///./src/components/CategoryDropdown/CategoryDropdown.vue?fcaa","webpack:///./src/components/CategoryDropdown/CategoryDropdown.vue?a3d8","webpack:///./src/components/Spinner.vue?7726","webpack:///./src/components/admin-layout/product/edit-products/EditProductsFilter.vue?a03b","webpack:///./src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?2236","webpack:///./src/components/Spinner.vue?8361","webpack:///./src/components/admin-layout/product/edit-products/EditProductsItem.vue?68bd","webpack:///./src/assets/images/image-container/no-photo.svg","webpack:///./src/components/CategoryDropdown/CategoryDropdown.vue?3f08","webpack:///./src/components/ImageContainer.vue","webpack:///./src/components/ImageContainer.vue?cdf1","webpack:///./src/components/ImageContainer.vue?68fd","webpack:///./src/helpers/slicer.ts","webpack:///./src/helpers/EventBus.ts","webpack:///./src/components/ImageContainer.vue?e42d","webpack:///./src/views/admin-layout/product/edit-products.vue","webpack:///./src/components/admin-layout/product/edit-products/EditProductsFilter.vue","webpack:///./src/components/admin-layout/product/edit-products/EditProductsFilter.vue?54fd","webpack:///./src/components/admin-layout/product/edit-products/EditProductsFilter.vue?4940","webpack:///./src/components/admin-layout/product/edit-products/EditProductsItem.vue","webpack:///./src/components/admin-layout/product/edit-products/EditProductsItem.vue?1093","webpack:///./src/components/admin-layout/product/edit-products/EditProductsItem.vue?7dae","webpack:///./src/views/admin-layout/product/edit-products.vue?8e69","webpack:///./src/views/admin-layout/product/edit-products.vue?7066"],"names":["loading","data","showDropdown","align","class","disabled","undefined","categoryName","aria-labelledby","setDropdown","item","index","key","id","name","color","tag","size","components","MDBDropdown","MDBDropdownToggle","MDBDropdownMenu","MDBDropdownItem","MDBSpinner","setup","store","categoryId","getters","getCategoryDropdown","dispatch","value","useFetch","currentCategory","filter","c","render","__scopeId","MDBCol","module","exports","src","alt","style","height","width","hasHttpInUrl","imgUrl","props","type","String","required","match","textSlicer","input","length","sizeWithoutDots","sliced","slice","receivers","publish","topic","subject","Promise","this","getTopicReceivers","map","receiver","resolve","subscribe","push","unsubscribe","eventBus","EventBus","col","to","light","bg","CategoryDropdown","MDBNavbar","img-url","removeItem","ImageContainer","MDBBtn","MDBListGroupItem","Object","toast","error","EditProductsItem","MDBContainer","MDBRow","MDBListGroup","EditProductsFilter","Spinner","dataLoader","unwatch","watch"],"mappings":"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","file":"js/edit-products.c1413b8f.js","sourcesContent":["<template>\n  <MDBDropdown v-model=\"showDropdown\" :align=\"'end'\" v-if=\"!loading && data\">\n    <MDBDropdownToggle\n      class=\"category-dropdown\"\n      @click=\"showDropdown = !showDropdown\"\n      :disabled=\"data === undefined\"\n    >\n      <span> {{ categoryName }}</span>\n    </MDBDropdownToggle>\n    <MDBDropdownMenu aria-labelledby=\"dropdownMenuButton\">\n      <MDBDropdownItem class=\"dropdown-item\" @mouseup=\"setDropdown(undefined)\">\n        No Category\n      </MDBDropdownItem>\n      <MDBDropdownItem\n        class=\"dropdown-item\"\n        v-for=\"(item, index) in data\"\n        :key=\"index\"\n        @mouseup=\"setDropdown(item.id)\"\n      >\n        {{ item.name }}\n      </MDBDropdownItem>\n    </MDBDropdownMenu>\n  </MDBDropdown>\n\n  <MDBDropdown v-if=\"loading\">\n    <MDBDropdownToggle class=\"category-dropdown\" color=\"primary\" disabled>\n      <MDBSpinner tag=\"span\" size=\"sm\" />\n    </MDBDropdownToggle>\n  </MDBDropdown>\n</template>\n\n<script lang=\"ts\">\nimport {\n  MDBDropdown,\n  MDBDropdownItem,\n  MDBDropdownMenu,\n  MDBDropdownToggle,\n  MDBSpinner,\n} from 'mdb-vue-ui-kit'\nimport { computed, ComputedRef, defineComponent, onUnmounted, ref } from 'vue'\n\nimport { useFetch } from '@/api/fetch-api/useFetch'\nimport { graphqlFetch } from '@/api/graphql-api/GraphqlApi'\nimport { GET_CATEGORIES_DROPDOWN } from '@/api/graphql-api/queries/categoryQueries'\nimport { useStore } from '@/store'\nimport { CategoryDropdownType } from '@/types/category'\n\nexport default defineComponent({\n  name: 'CategoryDropdown',\n  components: {\n    MDBDropdown,\n    MDBDropdownToggle,\n    MDBDropdownMenu,\n    MDBDropdownItem,\n    MDBSpinner,\n  },\n  setup() {\n    const store = useStore()\n    const showDropdown = ref(false)\n\n    const categoryId: ComputedRef<string | undefined> = computed(() => {\n      return store.getters.getCategoryDropdown\n    })\n\n    const setDropdown = (categoryId: string): void => {\n      store.dispatch('updateCategoryDropdown', categoryId)\n      showDropdown.value = false\n    }\n\n    const { data, loading } = useFetch<CategoryDropdownType[]>(\n      'SWR',\n      '/category-dropdown',\n      () => graphqlFetch(GET_CATEGORIES_DROPDOWN),\n    )\n\n    const categoryName: ComputedRef<string> = computed((): string => {\n      if (!data.value) return 'No categories'\n      if (!categoryId.value) return 'No category'\n      const currentCategory = data.value.filter(\n        (c: CategoryDropdownType) => c.id === categoryId.value,\n      )[0]\n      if (!currentCategory) return 'No category'\n      return currentCategory.name\n    })\n\n    // onUnmounted(() => {\n    //   store.dispatch('updateCategoryDropdown', undefined)\n    // })\n\n    return {\n      showDropdown,\n      setDropdown,\n      data,\n      loading,\n      categoryName,\n    }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.category-dropdown {\n  width: 153px;\n}\n</style>\n","\nimport {\n  MDBDropdown,\n  MDBDropdownItem,\n  MDBDropdownMenu,\n  MDBDropdownToggle,\n  MDBSpinner,\n} from 'mdb-vue-ui-kit'\nimport { computed, ComputedRef, defineComponent, onUnmounted, ref } from 'vue'\n\nimport { useFetch } from '@/api/fetch-api/useFetch'\nimport { graphqlFetch } from '@/api/graphql-api/GraphqlApi'\nimport { GET_CATEGORIES_DROPDOWN } from '@/api/graphql-api/queries/categoryQueries'\nimport { useStore } from '@/store'\nimport { CategoryDropdownType } from '@/types/category'\n\nexport default defineComponent({\n  name: 'CategoryDropdown',\n  components: {\n    MDBDropdown,\n    MDBDropdownToggle,\n    MDBDropdownMenu,\n    MDBDropdownItem,\n    MDBSpinner,\n  },\n  setup() {\n    const store = useStore()\n    const showDropdown = ref(false)\n\n    const categoryId: ComputedRef<string | undefined> = computed(() => {\n      return store.getters.getCategoryDropdown\n    })\n\n    const setDropdown = (categoryId: string): void => {\n      store.dispatch('updateCategoryDropdown', categoryId)\n      showDropdown.value = false\n    }\n\n    const { data, loading } = useFetch<CategoryDropdownType[]>(\n      'SWR',\n      '/category-dropdown',\n      () => graphqlFetch(GET_CATEGORIES_DROPDOWN),\n    )\n\n    const categoryName: ComputedRef<string> = computed((): string => {\n      if (!data.value) return 'No categories'\n      if (!categoryId.value) return 'No category'\n      const currentCategory = data.value.filter(\n        (c: CategoryDropdownType) => c.id === categoryId.value,\n      )[0]\n      if (!currentCategory) return 'No category'\n      return currentCategory.name\n    })\n\n    // onUnmounted(() => {\n    //   store.dispatch('updateCategoryDropdown', undefined)\n    // })\n\n    return {\n      showDropdown,\n      setDropdown,\n      data,\n      loading,\n      categoryName,\n    }\n  },\n})\n","import { render } from \"./CategoryDropdown.vue?vue&type=template&id=168cace2&scoped=true\"\nimport script from \"./CategoryDropdown.vue?vue&type=script&lang=ts\"\nexport * from \"./CategoryDropdown.vue?vue&type=script&lang=ts\"\n\nimport \"./CategoryDropdown.vue?vue&type=style&index=0&id=168cace2&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-168cace2\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Spinner.vue?vue&type=style&index=0&id=2d917819&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditProductsFilter.vue?vue&type=style&index=0&id=163304de&scoped=true&lang=scss\"","<template>\n  <MDBCol\n    class=\"d-flex justify-content-center align-items-center custom-spinner\"\n  >\n    <MDBSpinner color=\"primary\" />\n  </MDBCol>\n</template>\n\n<script lang=\"ts\">\nimport { MDBCol, MDBSpinner } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'Spinner',\n  components: {\n    MDBSpinner,\n    MDBCol,\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.custom-spinner {\n  position: fixed;\n  height: 80vh;\n  width: 100vw;\n}\n</style>\n","\nimport { MDBCol, MDBSpinner } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'Spinner',\n  components: {\n    MDBSpinner,\n    MDBCol,\n  },\n})\n","import { render } from \"./Spinner.vue?vue&type=template&id=2d917819&scoped=true\"\nimport script from \"./Spinner.vue?vue&type=script&lang=ts\"\nexport * from \"./Spinner.vue?vue&type=script&lang=ts\"\n\nimport \"./Spinner.vue?vue&type=style&index=0&id=2d917819&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-2d917819\"\n\nexport default script","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditProductsItem.vue?vue&type=style&index=0&id=b90daa38&scoped=true&lang=scss\"","module.exports = __webpack_public_path__ + \"img/no-photo.cfebf14d.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CategoryDropdown.vue?vue&type=style&index=0&id=168cace2&scoped=true&lang=scss\"","<template>\n  <div class=\"image-container\" :style=\"`height: ${height}; width: ${width};`\">\n    <div\n      v-if=\"hasHttpInUrl(imgUrl)\"\n      class=\"background-image\"\n      :style=\"`background-image: url(${imgUrl});`\"\n    />\n    <!--    <img-->\n    <!--      class=\"image-container__img\"-->\n    <!--      :src=\"imgUrl\"-->\n    <!--      alt=\"Image\"-->\n    <!--      v-if=\"hasHttpInUrl(imgUrl)\"-->\n    <!--    />-->\n    <img\n      class=\"image-container__placeholder\"\n      src=\"@/assets/images/image-container/no-photo.svg\"\n      alt=\"\"\n      v-else\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'ImageContainer',\n  props: {\n    height: {\n      type: String,\n      required: true,\n    },\n    width: {\n      type: String,\n      required: true,\n    },\n    imgUrl: {\n      type: String,\n      required: true,\n    },\n    name: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const hasHttpInUrl = (imgUrl: string): boolean => {\n      // it is emulate of checking image exist\n      return imgUrl.match(/(http(s?))/gim) != null\n    }\n    return {\n      hasHttpInUrl,\n    }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.background-image {\n  height: 100%;\n  width: 100%;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n}\n.image-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &__img {\n    max-width: 100%;\n    max-height: 100%;\n  }\n  &__placeholder {\n    height: 50%;\n    width: 50%;\n  }\n}\n</style>\n","\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'ImageContainer',\n  props: {\n    height: {\n      type: String,\n      required: true,\n    },\n    width: {\n      type: String,\n      required: true,\n    },\n    imgUrl: {\n      type: String,\n      required: true,\n    },\n    name: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const hasHttpInUrl = (imgUrl: string): boolean => {\n      // it is emulate of checking image exist\n      return imgUrl.match(/(http(s?))/gim) != null\n    }\n    return {\n      hasHttpInUrl,\n    }\n  },\n})\n","import { render } from \"./ImageContainer.vue?vue&type=template&id=0c088326&scoped=true\"\nimport script from \"./ImageContainer.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageContainer.vue?vue&type=script&lang=ts\"\n\nimport \"./ImageContainer.vue?vue&type=style&index=0&id=0c088326&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0c088326\"\n\nexport default script","export function textSlicer(input: string, length: number): string {\n  if (input.length <= length) return input\n  const sizeWithoutDots = length - 3\n  const sliced = input.slice(0, sizeWithoutDots)\n  return sliced + '...'\n}\n","import { EventBusInterface, Receiver, Subject } from '@/types/eventBus'\n\nclass EventBus implements EventBusInterface {\n  receivers: {\n    [key: string]: Receiver[]\n  } = {}\n  public async publish(topic: string, subject: Subject): Promise<void> {\n    const receivers = this.getTopicReceivers(topic)\n    receivers.map(\n      (receiver) => new Promise((resolve) => resolve(receiver(subject))),\n    )\n  }\n  private getTopicReceivers(topic: string): Receiver[] {\n    if (!this.receivers[topic]) {\n      return []\n    }\n    return this.receivers[topic]\n  }\n  // private retryPublish(\n  //   topic: string,\n  //   subject: Subject,\n  //   receiver: Receiver\n  // ): void {\n  //   receiver(subject)\n  // }\n\n  public subscribe(topic: string, receiver: Receiver): void {\n    if (!this.receivers[topic]) {\n      this.receivers[topic] = []\n    }\n    this.receivers[topic].push(receiver)\n  }\n  public unsubscribe(topic: string): void {\n    // public unsubscribe(topic: string): void {\n    if (!this.receivers[topic]) {\n      return\n    }\n    // this.receivers[topic] = this.receivers[topic].filter(\n    //   item => item !== receiver\n    // )\n    this.receivers[topic] = []\n  }\n}\n\n// class SmsNotificationService implements Receiver {\n//   receive(topic: string, subject: Subject): void {\n//     console.log('Sms event received', topic, subject)\n//   }\n// }\n//\n// class CustomReceiver implements Receiver {\n//   receive(topic: string, subject: Subject): void {\n//     console.log('Event received', topic, subject)\n//   }\n// }\n//\n// class EmailNotificationService implements Receiver {\n//   receive(topic: string, subject: Subject): void {\n//     console.log('Email event received', topic, subject)\n//   }\n// }\n\nexport const eventBus = new EventBus()\n// export const customReceiver = new CustomReceiver()\n// const emailService = new EmailNotificationService()\n\n// eventBus.subscribe('notification', smsService)\n// eventBus.subscribe('notification', emailService)\n//\n// eventBus.publish('notification', 'name')\n//\n// eventBus.unsubscribe('notification', smsService)\n// eventBus.publish('notification', 'name 2')\n\n// // /* eslint-disable */\n// class EventBus {\n//   events: any\n//   constructor() {\n//     this.events = {}\n//   }\n//\n//   on(eventName: string, fn: any): void {\n//     console.log(fn)\n//     this.events[eventName] = this.events[eventName] || []\n//     this.events[eventName].push(fn)\n//   }\n//\n//   // off(eventName, fn) {\n//   //   if (this.events[eventName]) {\n//   //     for (let i = 0; i < this.events[eventName].length; i++) {\n//   //       if (this.events[eventName][i] === fn) {\n//   //         this.events[eventName].splice(i, 1)\n//   //         break\n//   //       }\n//   //     }\n//   //   }\n//   // }\n//   emit(eventName: string, data: any): void {\n//     if (this.events[eventName]) {\n//       this.events[eventName].forEach(function(fn: any) {\n//         fn(data)\n//       })\n//     }\n//   }\n// }\n//\n// export default new EventBus()\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ImageContainer.vue?vue&type=style&index=0&id=0c088326&scoped=true&lang=scss\"","<template>\n  <MDBContainer>\n    <MDBRow v-if=\"!loading\">\n      <MDBCol col=\"12\">\n        <EditProductsFilter />\n      </MDBCol>\n      <MDBCol\n        col=\"12\"\n        v-if=\"!loading && data && data.length === 0\"\n        class=\"d-flex justify-content-center pt-2\"\n      >\n        No products yet. You can&thinsp;\n        <router-link :to=\"{ name: 'create-product' }\">create one</router-link>.\n      </MDBCol>\n      <MDBCol v-else>\n        <MDBListGroup>\n          <EditProductsItem\n            v-for=\"(item, index) in data\"\n            :key=\"index\"\n            :data=\"item\"\n          />\n        </MDBListGroup>\n      </MDBCol>\n    </MDBRow>\n    <MDBRow><Spinner v-if=\"loading\" /></MDBRow>\n  </MDBContainer>\n</template>\n\n<script lang=\"ts\">\nimport { MDBCol, MDBContainer, MDBListGroup, MDBRow } from 'mdb-vue-ui-kit'\nimport { defineComponent, onUnmounted } from 'vue'\n\nimport { awaitUseFetch, useFetch } from '@/api/fetch-api/useFetch'\nimport { graphqlFetch, graphqlFetchBy } from '@/api/graphql-api/GraphqlApi'\nimport {\n  GET_PRODUCTS_EDITLIST,\n  GET_PRODUCTS_EDITLIST_BY_CATEGORY_ID,\n} from '@/api/graphql-api/queries/productQueries'\nimport EditProductsFilter from '@/components/admin-layout/product/edit-products/EditProductsFilter.vue'\nimport EditProductsItem from '@/components/admin-layout/product/edit-products/EditProductsItem.vue'\nimport Spinner from '@/components/Spinner.vue'\nimport { eventBus } from '@/helpers/EventBus'\nimport { useStore } from '@/store'\nimport { ProductEditItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'edit-products',\n  components: {\n    EditProductsItem,\n    MDBContainer,\n    MDBRow,\n    MDBCol,\n    MDBListGroup,\n    EditProductsFilter,\n    Spinner,\n  },\n  setup() {\n    const store = useStore()\n\n    const { data, loading } = useFetch<ProductEditItem[]>(\n      'SWR',\n      '/products-edit-list',\n      () => graphqlFetch(GET_PRODUCTS_EDITLIST),\n    )\n\n    async function dataLoader(categoryId: string): Promise<void> {\n      loading.value = true\n      if (!categoryId) {\n        data.value = await awaitUseFetch<ProductEditItem[]>(\n          'SWR',\n          '/products-edit-list',\n          () => graphqlFetch(GET_PRODUCTS_EDITLIST),\n        )\n        loading.value = false\n        return\n      }\n      data.value = await awaitUseFetch<ProductEditItem[]>(\n        'SWR',\n        `/products-edit-list-${categoryId}`,\n        () =>\n          graphqlFetchBy(GET_PRODUCTS_EDITLIST_BY_CATEGORY_ID, {\n            categoryId: categoryId,\n          }),\n      )\n      loading.value = false\n    }\n\n    eventBus.subscribe('edit-products-update', async () => {\n      if (!store.getters.getCategoryDropdown) return\n      await dataLoader(store.getters.getCategoryDropdown)\n    })\n\n    const unwatch = store.watch(\n      () => store.getters.getCategoryDropdown,\n      async (value) => {\n        if (!value) return\n        await dataLoader(value)\n      },\n    )\n\n    onUnmounted(() => {\n      unwatch()\n      eventBus.unsubscribe('edit-products-update')\n    })\n    return { data, loading }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\"></style>\n","<template>\n  <MDBNavbar light bg=\"light\">\n    <div class=\"d-flex flex-column filter-title\">\n      <span>Sort by</span><span>category</span>\n    </div>\n    <CategoryDropdown />\n  </MDBNavbar>\n  <div class=\"filter-fake\" />\n</template>\n\n<script lang=\"ts\">\nimport { MDBNavbar } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\n\nimport CategoryDropdown from '@/components/CategoryDropdown/CategoryDropdown.vue'\n\nexport default defineComponent({\n  name: 'EditProductsFilter',\n  components: {\n    CategoryDropdown,\n    MDBNavbar,\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.navbar {\n  height: 50px;\n  width: 100%;\n  padding: 5px;\n  position: fixed;\n  left: 0;\n  z-index: 2;\n}\n.filter-fake {\n  padding-bottom: 50px;\n}\n.filter-title {\n  line-height: 1.2;\n}\n</style>\n","\nimport { MDBNavbar } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\n\nimport CategoryDropdown from '@/components/CategoryDropdown/CategoryDropdown.vue'\n\nexport default defineComponent({\n  name: 'EditProductsFilter',\n  components: {\n    CategoryDropdown,\n    MDBNavbar,\n  },\n})\n","import { render } from \"./EditProductsFilter.vue?vue&type=template&id=163304de&scoped=true\"\nimport script from \"./EditProductsFilter.vue?vue&type=script&lang=ts\"\nexport * from \"./EditProductsFilter.vue?vue&type=script&lang=ts\"\n\nimport \"./EditProductsFilter.vue?vue&type=style&index=0&id=163304de&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-163304de\"\n\nexport default script","<template>\n  <MDBListGroupItem>\n    <div class=\"edit-item\">\n      <div class=\"edit-item__image\">\n        <ImageContainer\n          height=\"140px\"\n          width=\"140px\"\n          :name=\"data.name\"\n          :img-url=\"data.imgUrl\"\n        />\n      </div>\n      <div class=\"edit-item__id\">ID: {{ data.id }}</div>\n      <div class=\"edit-item__name\">Name: {{ textSlicer(data.name, 20) }}</div>\n      <div class=\"edit-item__controls\">\n        <MDBBtn color=\"dark\" @click=\"removeItem\">Delete</MDBBtn>\n        <router-link\n          class=\"btn btn-light\"\n          :to=\"{ name: 'edit-product', params: { id: data.id } }\"\n        >\n          Edit\n        </router-link>\n      </div>\n    </div>\n  </MDBListGroupItem>\n</template>\n\n<script lang=\"ts\">\nimport { MDBBtn, MDBListGroupItem } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\nimport { useToast } from 'vue-toastification'\n\nimport { graphqlDelete } from '@/api/graphql-api/GraphqlApi'\nimport ImageContainer from '@/components/ImageContainer.vue'\nimport { textSlicer } from '@/helpers/slicer'\nimport { ProductEditItem } from '@/types/product'\nimport { eventBus } from '@/helpers/EventBus'\n\nexport default defineComponent({\n  name: 'EditProductsItem',\n  components: { ImageContainer, MDBBtn, MDBListGroupItem },\n  props: {\n    data: {\n      type: Object as () => ProductEditItem,\n    },\n  },\n  setup(props) {\n    const toast = useToast()\n    const removeItem = (): void => {\n      if (!props.data) return\n      graphqlDelete('product', props.data.id)\n      toast.error('Product has been deleted!')\n      eventBus.publish('edit-products-update', undefined)\n    }\n    return { textSlicer, removeItem }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.edit-item {\n  width: 100%;\n  display: grid;\n  grid-template-columns: auto 1fr;\n  grid-template-rows: 1fr 1fr 1fr;\n  gap: 5px 20px;\n  align-items: center;\n  grid-template-areas:\n    'image id'\n    'image name'\n    'image controls';\n  &__image {\n    grid-area: image;\n  }\n  &__id {\n    grid-area: id;\n    font-size: 0.8rem;\n  }\n  &__name {\n    grid-area: name;\n    font-weight: 500;\n  }\n  &__controls {\n    grid-area: controls;\n    justify-self: end;\n  }\n}\n</style>\n","\nimport { MDBBtn, MDBListGroupItem } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\nimport { useToast } from 'vue-toastification'\n\nimport { graphqlDelete } from '@/api/graphql-api/GraphqlApi'\nimport ImageContainer from '@/components/ImageContainer.vue'\nimport { textSlicer } from '@/helpers/slicer'\nimport { ProductEditItem } from '@/types/product'\nimport { eventBus } from '@/helpers/EventBus'\n\nexport default defineComponent({\n  name: 'EditProductsItem',\n  components: { ImageContainer, MDBBtn, MDBListGroupItem },\n  props: {\n    data: {\n      type: Object as () => ProductEditItem,\n    },\n  },\n  setup(props) {\n    const toast = useToast()\n    const removeItem = (): void => {\n      if (!props.data) return\n      graphqlDelete('product', props.data.id)\n      toast.error('Product has been deleted!')\n      eventBus.publish('edit-products-update', undefined)\n    }\n    return { textSlicer, removeItem }\n  },\n})\n","import { render } from \"./EditProductsItem.vue?vue&type=template&id=b90daa38&scoped=true\"\nimport script from \"./EditProductsItem.vue?vue&type=script&lang=ts\"\nexport * from \"./EditProductsItem.vue?vue&type=script&lang=ts\"\n\nimport \"./EditProductsItem.vue?vue&type=style&index=0&id=b90daa38&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-b90daa38\"\n\nexport default script","\nimport { MDBCol, MDBContainer, MDBListGroup, MDBRow } from 'mdb-vue-ui-kit'\nimport { defineComponent, onUnmounted } from 'vue'\n\nimport { awaitUseFetch, useFetch } from '@/api/fetch-api/useFetch'\nimport { graphqlFetch, graphqlFetchBy } from '@/api/graphql-api/GraphqlApi'\nimport {\n  GET_PRODUCTS_EDITLIST,\n  GET_PRODUCTS_EDITLIST_BY_CATEGORY_ID,\n} from '@/api/graphql-api/queries/productQueries'\nimport EditProductsFilter from '@/components/admin-layout/product/edit-products/EditProductsFilter.vue'\nimport EditProductsItem from '@/components/admin-layout/product/edit-products/EditProductsItem.vue'\nimport Spinner from '@/components/Spinner.vue'\nimport { eventBus } from '@/helpers/EventBus'\nimport { useStore } from '@/store'\nimport { ProductEditItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'edit-products',\n  components: {\n    EditProductsItem,\n    MDBContainer,\n    MDBRow,\n    MDBCol,\n    MDBListGroup,\n    EditProductsFilter,\n    Spinner,\n  },\n  setup() {\n    const store = useStore()\n\n    const { data, loading } = useFetch<ProductEditItem[]>(\n      'SWR',\n      '/products-edit-list',\n      () => graphqlFetch(GET_PRODUCTS_EDITLIST),\n    )\n\n    async function dataLoader(categoryId: string): Promise<void> {\n      loading.value = true\n      if (!categoryId) {\n        data.value = await awaitUseFetch<ProductEditItem[]>(\n          'SWR',\n          '/products-edit-list',\n          () => graphqlFetch(GET_PRODUCTS_EDITLIST),\n        )\n        loading.value = false\n        return\n      }\n      data.value = await awaitUseFetch<ProductEditItem[]>(\n        'SWR',\n        `/products-edit-list-${categoryId}`,\n        () =>\n          graphqlFetchBy(GET_PRODUCTS_EDITLIST_BY_CATEGORY_ID, {\n            categoryId: categoryId,\n          }),\n      )\n      loading.value = false\n    }\n\n    eventBus.subscribe('edit-products-update', async () => {\n      if (!store.getters.getCategoryDropdown) return\n      await dataLoader(store.getters.getCategoryDropdown)\n    })\n\n    const unwatch = store.watch(\n      () => store.getters.getCategoryDropdown,\n      async (value) => {\n        if (!value) return\n        await dataLoader(value)\n      },\n    )\n\n    onUnmounted(() => {\n      unwatch()\n      eventBus.unsubscribe('edit-products-update')\n    })\n    return { data, loading }\n  },\n})\n","import { render } from \"./edit-products.vue?vue&type=template&id=4b7efb70\"\nimport script from \"./edit-products.vue?vue&type=script&lang=ts\"\nexport * from \"./edit-products.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}