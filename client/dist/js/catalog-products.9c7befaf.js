(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["catalog-products"],{"07b5":function(e,t,o){"use strict";var c=o("7a23");function r(e,t,o,r,a,n){const d=Object(c["resolveComponent"])("ProductsListItem");return Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.data,t=>(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:t._id,data:t,"router-mode":e.routerMode},null,8,["data","router-mode"]))),128)}const a=Object(c["withScopeId"])("data-v-33568532");Object(c["pushScopeId"])("data-v-33568532");const n={class:"image-wrapper"},d={key:0,class:"percentage"},i={class:"price-row"},s={key:0,class:"price-row__price"},l={key:1,class:"price-row__price sale"},p={class:"sale__old-price"},u={class:"sale__new-price"},b={class:"name-row"};Object(c["popScopeId"])();const O=a((e,t,o,r,O,j)=>{const m=Object(c["resolveComponent"])("ProductImage"),g=Object(c["resolveComponent"])("MDBIcon"),v=Object(c["resolveComponent"])("MDBCol");return Object(c["openBlock"])(),Object(c["createBlock"])(v,{class:"d-flex flex-column",col:"6"},{default:a(()=>[Object(c["createVNode"])("div",{class:"item-wrapper",onClick:t[1]||(t[1]=t=>e.pushToProduct(e.data._id))},[Object(c["createVNode"])("div",n,[e.data.productData.discount?(Object(c["openBlock"])(),Object(c["createBlock"])("div",d," -"+Object(c["toDisplayString"])(e.data.productData.discount.percentage)+"% ",1)):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(m,{images:[e.data.productData.images[0]],height:"150px",width:"100%"},null,8,["images"])]),Object(c["createVNode"])("div",i,[e.data.productData.discount?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])("div",s,Object(c["toDisplayString"])(e.data.productData.price.toFixed(2))+" dol. ",1)),e.data.productData.discount?(Object(c["openBlock"])(),Object(c["createBlock"])("div",l,[Object(c["createVNode"])("div",p,Object(c["toDisplayString"])(e.data.productData.price.toFixed(2)),1),Object(c["createVNode"])("div",u,Object(c["toDisplayString"])(e.discountPrice)+" dol.",1)])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(g,{class:"sale__like",icon:"heart",size:"lg",iconStyle:"far"})]),Object(c["createVNode"])("div",b,Object(c["toDisplayString"])(e.data.productData.name),1)])]),_:1})});var j=o("d318"),m=o("83dd"),g=o("afbc"),v=Object(c["defineComponent"])({name:"ProductsListItem",props:{data:{type:Object,required:!0},routerMode:{type:String,required:!0}},components:{ProductImage:m["a"],MDBCol:j["MDBCol"],MDBIcon:j["MDBIcon"]},setup:function(e){var t=function(t){var o={};"catalog-products"===e.routerMode&&(o={name:"catalog-product",params:{_id:t}}),"home-products"===e.routerMode&&(o={name:"home-product",params:{_id:t}}),g["a"].push(o)},o=Object(c["computed"])((function(){var t=e.data.productData,o=t.price,c=t.discount;if(c){var r=o/100*c.percentage;return(o-r).toFixed(2)}}));return{pushToProduct:t,discountPrice:o}}});o("da6f");v.render=O,v.__scopeId="data-v-33568532";var f=v,B=Object(c["defineComponent"])({name:"ProductsList",props:{data:{type:Array,required:!0},routerMode:{type:String,required:!0}},components:{ProductsListItem:f}});B.render=r;t["a"]=B},"348e":function(e,t,o){"use strict";var c=o("7a23");const r=Object(c["withScopeId"])("data-v-149e76d5");Object(c["pushScopeId"])("data-v-149e76d5");const a=Object(c["createVNode"])("div",{class:"item-wrapper ssc"},[Object(c["createVNode"])("div",{class:"ssc-square item-image"}),Object(c["createVNode"])("div",{class:"price-row"},[Object(c["createVNode"])("div",{class:"ssc-line price-row__price"})]),Object(c["createVNode"])("div",{class:"name-row"},[Object(c["createVNode"])("div",{class:"ssc-line name-row__line"}),Object(c["createVNode"])("div",{class:"ssc-line name-row__line"}),Object(c["createVNode"])("div",{class:"ssc-line name-row__line"})])],-1);Object(c["popScopeId"])();const n=r((e,t,o,n,d,i)=>{const s=Object(c["resolveComponent"])("MDBCol");return Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.SKELETON_COUNT,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(s,{class:"d-flex flex-column",col:"6",key:e},{default:r(()=>[a]),_:2},1024))),128)});var d=o("d318"),i=8,s=Object(c["defineComponent"])({name:"ProductsListSkeleton",components:{MDBCol:d["MDBCol"]},setup:function(){return{SKELETON_COUNT:i}}});o("6433");s.render=n,s.__scopeId="data-v-149e76d5";t["a"]=s},"41e9":function(e,t,o){"use strict";o("661c")},5327:function(e,t,o){},6433:function(e,t,o){"use strict";o("9dea")},"661c":function(e,t,o){},"70ae":function(e){e.exports=JSON.parse('{"filters":{"newer":{"name":"New first","condition":{"createdAt":"ASC"}},"older":{"name":"Old first","condition":{"createdAt":"DESC"}},"cheaper":{"name":"Cheapest first","condition":{"productData.price":"ASC"}},"expensive":{"name":"Expensive first","condition":{"productData.price":"DESC"}},"popular":{"name":"Popular first","condition":{"price":"DESC"}}}}')},"83dd":function(e,t,o){"use strict";var c=o("7a23");const r=Object(c["withScopeId"])("data-v-63fc3a12");Object(c["pushScopeId"])("data-v-63fc3a12");const a={key:0};Object(c["popScopeId"])();const n=r((e,t,o,n,d,i)=>{const s=Object(c["resolveComponent"])("MDBIcon"),l=Object(c["resolveComponent"])("swiper-slide"),p=Object(c["resolveComponent"])("swiper");return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"image-container",style:`height: ${e.height}; width: ${e.width};`},[e.imagesExist?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])(s,{icon:"file-image",iconStyle:"far",size:"lg"})])),e.imagesExist&&e.images.length>1?(Object(c["openBlock"])(),Object(c["createBlock"])(p,{key:1,"slides-per-view":1,"space-between":20,pagination:{type:"progressbar"},loop:e.images.length>1},{default:r(()=>[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.images,t=>(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:t.id},{default:r(()=>[Object(c["createVNode"])("div",{class:"background-image",style:`background-image: url(${t.imgUrl}); height: ${e.height}; width: ${e.width};`},null,4)]),_:2},1024))),128))]),_:1},8,["loop"])):Object(c["createCommentVNode"])("",!0),e.imagesExist&&e.images.length<=1?(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:2,class:"background-image",style:"background-image: url("+e.images[0].imgUrl},null,4)):Object(c["createCommentVNode"])("",!0)],4)});var d=o("d318"),i=o("6d3b"),s=o("5dc8"),l=o("90eab"),p=o("a16a");o("5f67");i["a"].use([s["a"]]);var u=Object(c["defineComponent"])({name:"ProductImage",props:{height:{type:String,required:!0},width:{type:String,required:!0},images:{type:Array,required:!0}},components:{MDBIcon:d["MDBIcon"],Swiper:l["a"],SwiperSlide:p["a"]},setup:function(e){var t=Object(c["computed"])((function(){return Boolean(e.images[0])}));return{imagesExist:t}}});o("f229");u.render=n,u.__scopeId="data-v-63fc3a12";t["a"]=u},"901e":function(e,t,o){},"9d95":function(e,t,o){"use strict";o.r(t);var c=o("7a23");function r(e,t,o,r,a,n){const d=Object(c["resolveComponent"])("ProductsFilterMenu"),i=Object(c["resolveComponent"])("ProductsList"),s=Object(c["resolveComponent"])("ProductsListSkeleton");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(d,{onUpdateFilter:e.updateFilter},null,8,["onUpdateFilter"]),e.loading?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,data:e.data,"router-mode":"catalog-products"},null,8,["data"])),e.loading?(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:1})):Object(c["createCommentVNode"])("",!0)],64)}var a=o("9ab4"),n=o("2ef0");const d=Object(c["withScopeId"])("data-v-0fccccf4"),i=d((e,t,o,r,a,n)=>{const i=Object(c["resolveComponent"])("MDBDropdownToggle"),s=Object(c["resolveComponent"])("MDBDropdownItem"),l=Object(c["resolveComponent"])("MDBDropdownMenu"),p=Object(c["resolveComponent"])("MDBDropdown"),u=Object(c["resolveComponent"])("MDBCol");return Object(c["openBlock"])(),Object(c["createBlock"])(u,{col:"12"},{default:d(()=>[Object(c["createVNode"])(p,{class:"my-1",modelValue:e.showDropdown,"onUpdate:modelValue":t[2]||(t[2]=t=>e.showDropdown=t),align:"end"},{default:d(()=>[Object(c["createVNode"])(i,{class:"category-dropdown",onClick:t[1]||(t[1]=t=>e.showDropdown=!e.showDropdown)},{default:d(()=>[Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(e.filters[e.activeOrder].name),1)]),_:1}),Object(c["createVNode"])(l,{"aria-labelledby":"dropdownMenuButton"},{default:d(()=>[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.filters,(t,o)=>(Object(c["openBlock"])(),Object(c["createBlock"])(s,{class:"dropdown-item",key:o,onMouseup:t=>e.setDropdown(o)},{default:d(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.name),1)]),_:2},1032,["onMouseup"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})});var s=o("d318"),l=o("70ae"),p=Object(c["defineComponent"])({name:"ProductFilterMenu",components:{MDBCol:s["MDBCol"],MDBDropdown:s["MDBDropdown"],MDBDropdownToggle:s["MDBDropdownToggle"],MDBDropdownMenu:s["MDBDropdownMenu"],MDBDropdownItem:s["MDBDropdownItem"]},emits:["updateFilter"],setup:function(e,t){var o=t.emit,r=Object(c["ref"])(!1),a=l.filters,n=Object(c["ref"])("newer");o("updateFilter",a[n.value]);var d=function(e){n.value=e,o("updateFilter",a[n.value]),r.value=!1};return{showDropdown:r,activeOrder:n,setDropdown:d,filters:a}}});o("41e9");p.render=i,p.__scopeId="data-v-0fccccf4";var u=p,b=o("07b5"),O=o("348e"),j=o("f23c"),m=o("9812"),g=o("e722"),v=Object(c["defineComponent"])({name:"catalog-products",props:{categoryId:{type:String,required:!0}},components:{ProductsList:b["a"],ProductsListSkeleton:O["a"],ProductsFilterMenu:u},setup:function(e){var t=this,o=Object(c["ref"])([]),r=Object(c["ref"])(!0),d=function(c){return Object(a["b"])(t,void 0,Promise,(function(){var t,d,i;return Object(a["d"])(this,(function(a){switch(a.label){case 0:return r.value=!0,t=Object.keys(c.condition)[0],d=Object(n["lowerCase"])(c.name).split(" ").join("-"),i=o,[4,Object(j["a"])("NF","/catalog-products-"+e.categoryId+"-"+d,(function(){return Object(m["d"])(g["d"],{categoryId:e.categoryId,sortBy:t,sortParam:c.condition[t]})}))];case 1:return i.value=a.sent(),r.value=!1,[2]}}))}))};return{data:o,loading:r,updateFilter:d}}});v.render=r;t["default"]=v},"9dea":function(e,t,o){},da6f:function(e,t,o){"use strict";o("5327")},f229:function(e,t,o){"use strict";o("901e")}}]);
//# sourceMappingURL=catalog-products.9c7befaf.js.map