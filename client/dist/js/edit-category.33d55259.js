(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["edit-category"],{"0b84":function(e,t,o){"use strict";o("2dea")},"235c":function(e,t,o){"use strict";o.r(t);var n=o("7a23");function c(e,t,o,c,a,r){const i=Object(n["resolveComponent"])("EditCategoryTemplate"),l=Object(n["resolveComponent"])("Spinner");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Suspense"],null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(i,{id:e.id},null,8,["id"])]),fallback:Object(n["withCtx"])(()=>[Object(n["createVNode"])(l)]),_:1})}const a=Object(n["createTextVNode"])(" Hidden "),r=Object(n["createTextVNode"])(" Public "),i=Object(n["createTextVNode"])(" Save changes ");function l(e,t,o,c,l,d){const s=Object(n["resolveComponent"])("CategoriesListItem"),u=Object(n["resolveComponent"])("MDBCol"),b=Object(n["resolveComponent"])("MDBInput"),p=Object(n["resolveComponent"])("ErrorField"),m=Object(n["resolveComponent"])("MDBDropdownToggle"),j=Object(n["resolveComponent"])("MDBDropdownItem"),O=Object(n["resolveComponent"])("MDBDropdownMenu"),g=Object(n["resolveComponent"])("MDBDropdown"),f=Object(n["resolveComponent"])("MDBBtn"),C=Object(n["resolveComponent"])("MDBRow"),v=Object(n["resolveComponent"])("MDBContainer");return Object(n["openBlock"])(),Object(n["createBlock"])(v,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(C,{tag:"form",class:"g-3",onSubmit:Object(n["withModifiers"])(e.onSubmit,["prevent"])},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(u,{col:"12"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(s,{name:e.values.name,"img-url":e.values.imgUrl},null,8,["name","img-url"])]),_:1}),Object(n["createVNode"])(u,{col:"12"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(b,{label:"Category Name",name:"name",modelValue:e.values.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.values.name=t)},null,8,["modelValue"]),Object(n["createVNode"])(p,null,{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.errors.name),1)]),_:1})]),_:1}),Object(n["createVNode"])(u,{col:"12"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(b,{label:"Image Url",type:"text",name:"imgUrl",modelValue:e.values.imgUrl,"onUpdate:modelValue":t[2]||(t[2]=t=>e.values.imgUrl=t)},null,8,["modelValue"]),Object(n["createVNode"])(p,null,{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.errors.imgUrl),1)]),_:1})]),_:1}),Object(n["createVNode"])(u,{col:"12",class:"d-flex justify-content-between"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(g,{align:"start",modelValue:e.showDropdown,"onUpdate:modelValue":t[6]||(t[6]=t=>e.showDropdown=t)},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(m,{class:"category-dropdown",onClick:t[3]||(t[3]=t=>e.showDropdown=!e.showDropdown)},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" Visibility: "+Object(n["toDisplayString"])(!0===e.values.isPublic?"Public":"Hidden"),1)]),_:1}),Object(n["createVNode"])(O,{"aria-labelledby":"dropdownMenuButton"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(j,{class:"dropdown-item",onClick:t[4]||(t[4]=t=>e.changeIsPublic(!1))},{default:Object(n["withCtx"])(()=>[a]),_:1}),Object(n["createVNode"])(j,{class:"dropdown-item",onClick:t[5]||(t[5]=t=>e.changeIsPublic(!0))},{default:Object(n["withCtx"])(()=>[r]),_:1})]),_:1})]),_:1},8,["modelValue"]),Object(n["createVNode"])(f,{color:"light",type:"submit",disabled:!e.meta.dirty||!e.meta.valid},{default:Object(n["withCtx"])(()=>[i]),_:1},8,["disabled"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})}var d=o("9ab4"),s=o("d318"),u=o("7bb1"),b=o("6c42"),p=o("506a"),m=o("73fa"),j=o("1181"),O=o("962f"),g=o("ad5e"),f=o("2eef"),C=Object(n["defineComponent"])({name:"EditCategoryTemplate",components:{ErrorField:g["a"],CategoriesListItem:f["a"],MDBInput:s["MDBInput"],MDBBtn:s["MDBBtn"],MDBDropdown:s["MDBDropdown"],MDBDropdownToggle:s["MDBDropdownToggle"],MDBDropdownMenu:s["MDBDropdownMenu"],MDBDropdownItem:s["MDBDropdownItem"],MDBRow:s["MDBRow"],MDBCol:s["MDBCol"],MDBContainer:s["MDBContainer"]},props:{id:{type:String,required:!0}},setup:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t,o,c,a,r,i,l,s,g,f,C,v,w,h,D;return Object(d["d"])(this,(function(d){switch(d.label){case 0:return t=Object(b["b"])(),o=Object(n["ref"])(!1),c=Object(p["c"])({name:Object(p["e"])().required().min(4).label("Category name"),imgUrl:Object(p["e"])().required().url().label("Image URL"),isPublic:Object(p["a"])().required().oneOf([!1,!0])}),a=Object(u["b"])({validationSchema:c,initialValues:{name:"",imgUrl:"",isPublic:!0}}),r=a.values,i=a.errors,l=a.meta,Object(u["a"])("name"),Object(u["a"])("imgUrl"),Object(u["a"])("isPublic"),s=function(e){r.isPublic=e,o.value=!1},g=function(){l.value.valid=!1},f=function(){Object(j["e"])("category",e.id,r),g(),t.success("Category has been edited!")},[4,Object(m["a"])("SWR","/edit-category-"+e.id,(function(){return Object(j["d"])(O["f"],{id:e.id})}))];case 1:return C=d.sent(),v=C,w=v.name,h=v.imgUrl,D=v.isPublic,r.name=l.value.initialValues.name=w,r.imgUrl=l.value.initialValues.imgUrl=h,r.isPublic=l.value.initialValues.isPublic=D,[2,{showDropdown:o,values:r,errors:i,meta:l,changeIsPublic:s,onSubmit:f}]}}))}))}});C.render=l;var v=C,w=o("2375"),h=Object(n["defineComponent"])({name:"edit-category",components:{EditCategoryTemplate:v,Spinner:w["a"]},props:{id:{type:String,required:!0}}});h.render=c;t["default"]=h},2375:function(e,t,o){"use strict";var n=o("7a23");const c=Object(n["withScopeId"])("data-v-2d917819"),a=c((e,t,o,a,r,i)=>{const l=Object(n["resolveComponent"])("MDBSpinner"),d=Object(n["resolveComponent"])("MDBCol");return Object(n["openBlock"])(),Object(n["createBlock"])(d,{class:"d-flex justify-content-center align-items-center custom-spinner"},{default:c(()=>[Object(n["createVNode"])(l,{color:"primary"})]),_:1})});var r=o("d318"),i=Object(n["defineComponent"])({name:"Spinner",components:{MDBSpinner:r["MDBSpinner"],MDBCol:r["MDBCol"]}});o("0b84");i.render=a,i.__scopeId="data-v-2d917819";t["a"]=i},"2dea":function(e,t,o){},"2eef":function(e,t,o){"use strict";var n=o("7a23");const c=Object(n["withScopeId"])("data-v-2253449d");Object(n["pushScopeId"])("data-v-2253449d");const a={class:"item-image"},r={class:"item-name"};Object(n["popScopeId"])();const i=c((e,t,o,i,l,d)=>{const s=Object(n["resolveComponent"])("ImageContainer"),u=Object(n["resolveComponent"])("MDBListGroupItem");return Object(n["openBlock"])(),Object(n["createBlock"])(u,{class:"d-flex align-items-center border-0",onClick:e.routerPush},{default:c(()=>[Object(n["createVNode"])("div",a,[Object(n["createVNode"])(s,{height:"60px",width:"90px","img-url":e.imgUrl,name:e.name},null,8,["img-url","name"])]),Object(n["createVNode"])("div",r,Object(n["toDisplayString"])(e.name),1)]),_:1},8,["onClick"])});var l=o("afbc"),d=o("d318"),s=o("b9aa"),u=Object(n["defineComponent"])({name:"CategoriesListItem",props:{categoryId:{type:String},imgUrl:{type:String,required:!0},name:{type:String,required:!0}},components:{ImageContainer:s["a"],MDBListGroupItem:d["MDBListGroupItem"]},setup:function(e){var t=function(){e.categoryId&&l["a"].push({name:"CatalogProducts",params:{categoryId:e.categoryId}})};return{routerPush:t}}});o("9c37");u.render=i,u.__scopeId="data-v-2253449d";t["a"]=u},"3a8f":function(e,t,o){e.exports=o.p+"img/no-photo.cfebf14d.svg"},"63a4":function(e,t,o){},"9c37":function(e,t,o){"use strict";o("63a4")},b9aa:function(e,t,o){"use strict";var n=o("7a23"),c=o("3a8f"),a=o.n(c);const r=Object(n["withScopeId"])("data-v-0c088326");Object(n["pushScopeId"])("data-v-0c088326");const i={key:1,class:"image-container__placeholder",src:a.a,alt:""};Object(n["popScopeId"])();const l=r((e,t,o,c,a,r)=>(Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"image-container",style:`height: ${e.height}; width: ${e.width};`},[e.hasHttpInUrl(e.imgUrl)?(Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:0,class:"background-image",style:`background-image: url(${e.imgUrl});`},null,4)):(Object(n["openBlock"])(),Object(n["createBlock"])("img",i))],4)));var d=Object(n["defineComponent"])({name:"ImageContainer",props:{height:{type:String,required:!0},width:{type:String,required:!0},imgUrl:{type:String,required:!0},name:{type:String,required:!0}},setup:function(){var e=function(e){return null!=e.match(/(http(s?))/gim)};return{hasHttpInUrl:e}}});o("f39a");d.render=l,d.__scopeId="data-v-0c088326";t["a"]=d},bdb5:function(e,t,o){},f39a:function(e,t,o){"use strict";o("bdb5")}}]);
//# sourceMappingURL=edit-category.33d55259.js.map