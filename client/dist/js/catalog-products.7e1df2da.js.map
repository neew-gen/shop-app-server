{"version":3,"sources":["webpack:///./src/components/public-layout/catalog/ProductsList/ProductsListSkeleton.vue?dc51","webpack:///./src/components/public-layout/catalog/Product/ProductImage.vue?7602","webpack:///./src/components/public-layout/catalog/Product/ProductImage.vue","webpack:///./src/components/public-layout/catalog/Product/ProductImage.vue?81cc","webpack:///./src/components/public-layout/catalog/Product/ProductImage.vue?f645","webpack:///./src/views/public-layout/catalog/catalog-products.vue","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsFilterMenu/ProductsFilterMenu.vue","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsFilterMenu/ProductsFilterMenu.vue?44e7","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsFilterMenu/ProductsFilterMenu.vue?dd53","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsList.vue","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsListItem.vue","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsListItem.vue?a5df","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsListItem.vue?12d1","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsList.vue?37e0","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsList.vue?41b9","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsListSkeleton.vue","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsListSkeleton.vue?d0d2","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsListSkeleton.vue?87c5","webpack:///./src/views/public-layout/catalog/catalog-products.vue?4682","webpack:///./src/views/public-layout/catalog/catalog-products.vue?bdb4","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsFilterMenu/ProductsFilterMenu.vue?ece3","webpack:///./src/components/public-layout/catalog/ProductsList/ProductsListItem.vue?2be7"],"names":["class","style","height","width","images","length","slides-per-view","space-between","pagination","loop","item","key","id","imgUrl","use","name","props","type","String","required","Array","components","Swiper","SwiperSlide","render","__scopeId","updateFilter","loading","data","col","showDropdown","align","filters","activeOrder","aria-labelledby","setDropdown","MDBCol","MDBDropdown","MDBDropdownToggle","MDBDropdownMenu","MDBDropdownItem","emits","setup","emit","value","newValue","_id","pushToProduct","productData","discount","percentage","price","toFixed","discountPrice","icon","size","iconStyle","Object","ProductImage","MDBIcon","router","push","params","discountValue","ProductsListItem","MDBContainer","MDBRow","SKELETON_COUNT","categoryId","ProductsList","ProductsListSkeleton","ProductsFilterMenu","e","Promise","conditionKey","keys","condition","cacheName","split","join","sortBy","sortParam"],"mappings":"2IAAA,W,kCCAA,W,4PCCE,yBAsBM,OAtBDA,MAAM,kBAAmBC,MAAK,WAAa,EAAAC,kBAAkB,EAAAC,U,CAExD,EAAAC,OAAOC,OAAS,G,yBADxB,yBAeS,G,MAbNC,kBAAiB,EACjBC,gBAAe,GACfC,WAAY,C,oBAGZC,KAAM,EAAAL,OAAOC,OAAS,G,WAET,IAAsB,E,2BAApC,yBAKe,2CALc,EAAAD,OAARM,I,yBAArB,yBAKe,GALuBC,IAAKD,EAAKE,I,WAC9C,IAGE,CAHF,yBAGE,OAFAZ,MAAM,mBACLC,MAAK,yBAA2BS,EAAKG,oBAAoB,EAAAX,kBAAkB,EAAAC,U,wFAK1E,EAAAC,OAAOC,QAAU,G,yBADzB,yBAIE,O,MAFAL,MAAM,mBACLC,MAAK,yBAA2B,EAAAG,OAAO,GAAGS,Q,oHChBjD,OAAWC,IAAI,CAAC,SAMD,mCAAgB,CAC7BC,KAAM,eACNC,MAAO,CACLd,OAAQ,CACNe,KAAMC,OACNC,UAAU,GAEZhB,MAAO,CACLc,KAAMC,OACNC,UAAU,GAEZf,OAAQ,CACNa,KAAMG,MACND,UAAU,IAGdE,WAAY,CACVC,OAAM,OACNC,YAAW,U,UCxBf,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ,U,y0BCPb,yBAMe,Q,6BALb,IAIS,CAJT,yBAIS,Q,6BAHP,IAAmD,CAAnD,yBAAmD,GAA9B,eAAc,EAAAC,cAAY,2BAC1B,EAAAC,Q,iEAArB,yBAA6C,G,MAAdC,KAAM,EAAAA,M,kBACT,EAAO,S,yBAAnC,yBAAuC,Y,qeCJ3C,yBAmBS,GAnBDC,IAAI,MAAI,C,UACd,IAiBc,CAjBd,yBAiBc,GAjBD7B,MAAM,O,WAAgB,EAAA8B,a,qCAAA,EAAAA,aAAY,GAAGC,MAAO,O,WACvD,IAKoB,CALpB,yBAKoB,GAJlB/B,MAAM,oBACL,QAAK,eAAE,EAAA8B,cAAgB,EAAAA,e,WAExB,IAA6C,CAA7C,yBAA6C,yCAAnC,EAAAE,QAAQ,EAAAC,aAAalB,MAAI,K,MAErC,yBASkB,GATDmB,kBAAgB,sBAAoB,C,UAGjD,IAA8B,E,2BAFhC,yBAOkB,2CALM,EAAAF,QAAO,CAArBtB,EAAMC,K,yBAFhB,yBAOkB,GANhBX,MAAM,gBAELW,IAAKA,EACL,UAAO,GAAE,EAAAwB,YAAYxB,I,WAEtB,IAAe,C,0DAAZD,EAAKK,MAAI,K,4FCEP,+BAAgB,CAC7BA,KAAM,oBACNM,WAAY,CACVe,OAAM,YACNC,YAAW,iBACXC,kBAAiB,uBACjBC,gBAAe,qBACfC,gBAAe,sBAEjBC,MAAO,CAAC,gBACRC,MAAA,SAAM1B,EAAO,G,IAAE2B,EAAI,OACXb,EAAe,kBAAI,GAEnBE,EAAU,EAAkBA,QAC5BC,EAAyC,iBAAI,SAEnDU,EAAK,eAAgBX,EAAQC,EAAYW,QAEzC,IAAMT,EAAc,SAACU,GACnBZ,EAAYW,MAAQC,EACpBF,EAAK,eAAgBX,EAAQC,EAAYW,QACzCd,EAAac,OAAQ,GAEvB,MAAO,CACLd,aAAY,EACZG,YAAW,EACXE,YAAW,EACXH,QAAO,M,UCxCb,EAAOR,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,4MCPb,yBAIe,Q,6BAHb,IAES,CAFT,yBAES,Q,6BADW,IAAoB,E,2BAAtC,yBAAsE,2CAArC,EAAAG,KAARlB,I,yBAAzB,yBAAsE,GAA9BC,IAAKD,EAAKoC,IAAMlB,KAAMlB,G,kJCCzDV,MAAM,iB,SAC6BA,MAAM,c,GASzCA,MAAM,a,SAC8BA,MAAM,oB,SAGPA,MAAM,yB,GACrCA,MAAM,mB,GAGNA,MAAM,mB,GAIVA,MAAM,Y,+NAzBf,yBA6BS,GA7BDA,MAAM,qBAAqB6B,IAAI,K,WAErC,IA0BM,CA1BN,yBA0BM,OA1BD7B,MAAM,eAAgB,QAAK,eAAE,EAAA+C,cAAc,EAAAnB,KAAKkB,O,CACnD,yBASM,MATN,EASM,CARO,EAAAlB,KAAKoB,YAAoB,U,yBAApC,yBAEM,MAFN,EAAyD,KACtD,6BAAG,EAAApB,KAAKoB,YAAYC,SAASC,YAAa,KAC7C,I,uCACA,yBAIE,GAHC9C,OAAM,CAAG,EAAAwB,KAAKoB,YAAY5C,OAAO,IAClCF,OAAO,QACPC,MAAM,Q,qBAGV,yBAWM,MAXN,EAWM,CAVQ,EAAAyB,KAAKoB,YAAYC,S,iEAA7B,yBAEM,MAFN,EAEM,6BADD,EAAArB,KAAKoB,YAAYG,MAAMC,QAAQ,IAAK,SACzC,IACW,EAAAxB,KAAKoB,YAAoB,U,yBAApC,yBAKM,MALN,EAKM,CAJJ,yBAEM,MAFN,EAEM,6BADD,EAAApB,KAAKoB,YAAYG,MAAMC,QAAQ,IAAD,GAEnC,yBAAgE,MAAhE,EAAgE,6BAAhC,EAAAC,eAAgB,QAAU,M,uCAE5D,yBAAkD,GAAzCC,KAAK,QAAQC,KAAK,KAAKC,UAAU,UAE5C,yBAEM,MAFN,EAEM,6BADD,EAAA5B,KAAKoB,YAAYjC,MAAI,O,oCCfjB,+BAAgB,CAC7BA,KAAM,mBACNC,MAAO,CACLY,KAAM,CACJX,KAAMwC,OACNtC,UAAU,IAGdE,WAAY,CACVqC,aAAY,OACZtB,OAAM,YACNuB,QAAO,cAKTjB,MAAA,SAAM1B,GACJ,IAAM+B,EAAgB,SAACD,GACrBc,EAAA,KAAOC,KAAK,CACV9C,KAAM,kBACN+C,OAAQ,CAAEhB,IAAG,MASXO,EAAiD,uBAAS,WACxD,MAAsBrC,EAAMY,KAAKoB,YAA/BG,EAAK,QAAEF,EAAQ,WACvB,GAAKA,EAAL,CACA,IAAMc,EAAiBZ,EAAQ,IAAOF,EAASC,WAC/C,OAAQC,EAAQY,GAAeX,QAAQ,OAEzC,MAAO,CAAEL,cAAa,EAAEM,cAAa,M,UC1CzC,EAAO7B,OAAS,EAChB,EAAOC,UAAY,kBAEJ,QCDA,+BAAgB,CAC7BV,KAAM,eACNC,MAAO,CACLY,KAAM,CACJX,KAAMG,QAIVC,WAAY,CACV2C,iBAAgB,EAChBC,aAAY,kBACZC,OAAM,eCfV,EAAO1C,OAAS,EAED,Q,wGCEX,yBAUM,OAVDxB,MAAM,oBAAkB,CAC3B,yBAAqC,OAAhCA,MAAM,0BACX,yBAEM,OAFDA,MAAM,aAAW,CACpB,yBAAyC,OAApCA,MAAM,gCAEb,yBAIM,OAJDA,MAAM,YAAU,CACnB,yBAAuC,OAAlCA,MAAM,4BACX,yBAAuC,OAAlCA,MAAM,4BACX,yBAAuC,OAAlCA,MAAM,gC,yIAdjB,yBAiBS,2CAdQ,EAAAmE,eAARzD,I,yBAHT,yBAiBS,GAhBPV,MAAM,qBACN6B,IAAI,IAEHlB,IAAKD,G,WAEN,IAUM,CAVN,I,oBCJJ,IAAMyD,EAAiB,EAER,+BAAgB,CAC7BpD,KAAM,uBACNM,WAAY,CACVe,OAAM,aAERM,MAAK,WACH,MAAO,CACLyB,eAAc,M,UCPpB,EAAO3C,OAAS,EAChB,EAAOC,UAAY,kBAEJ,QCKA,+BAAgB,CAC7BV,KAAM,mBACNC,MAAO,CACLoD,WAAY,CACVnD,KAAMC,OACNC,UAAU,IAGdE,WAAY,CACV4C,aAAY,kBACZC,OAAM,YACNG,aAAY,EACZC,qBAAoB,EACpBC,mBAAkB,GAEpB7B,MAAA,SAAM1B,GAAN,WACQY,EAA2C,iBAAI,IAC/CD,EAAwB,kBAAI,GAE5BD,EAAe,SAAO8C,GAAM,+BAAGC,SAAO,W,yEAI7B,OAHb9C,EAAQiB,OAAQ,EACV8B,EAAejB,OAAOkB,KAAKH,EAAEI,WAAW,GACxCC,EAAY,uBAAUL,EAAEzD,MAAM+D,MAAM,KAAKC,KAAK,KACpD,EAAAnD,EAAa,GAAM,eACjB,KACA,qBAAqBZ,EAAMoD,WAAU,IAAIS,GACzC,WACE,sBAAe,OAA2B,CACxCT,WAAYpD,EAAMoD,WAClBY,OAAQN,EACRO,UAAWT,EAAEI,UAAUF,S,cAP7B,EAAK9B,MAAQ,SAUbjB,EAAQiB,OAAQ,E,YAElB,MAAO,CACLhB,KAAI,EACJD,QAAO,EACPD,aAAY,MChDlB,EAAOF,OAASA,EAED,gB,kCCLf,W,kCCAA","file":"js/catalog-products.7e1df2da.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductsListSkeleton.vue?vue&type=style&index=0&id=29f47742&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductImage.vue?vue&type=style&index=0&id=53ac4786&scoped=true&lang=scss\"","<template>\n  <div class=\"image-container\" :style=\"`height: ${height}; width: ${width};`\">\n    <swiper\n      v-if=\"images.length > 1\"\n      :slides-per-view=\"1\"\n      :space-between=\"20\"\n      :pagination=\"{\n        type: 'progressbar',\n      }\"\n      :loop=\"images.length > 1\"\n    >\n      <swiper-slide v-for=\"item in images\" :key=\"item.id\">\n        <div\n          class=\"background-image\"\n          :style=\"`background-image: url(${item.imgUrl}); height: ${height}; width: ${width};`\"\n        />\n      </swiper-slide>\n    </swiper>\n    <div\n      v-if=\"images.length <= 1\"\n      class=\"background-image\"\n      :style=\"`background-image: url(${images[0].imgUrl}`\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport SwiperCore, { Pagination } from 'swiper'\nimport { Swiper, SwiperSlide } from 'swiper/vue'\nimport { defineComponent, PropType } from 'vue'\n\nSwiperCore.use([Pagination])\nimport 'swiper/swiper.scss'\nimport 'swiper/components/pagination/pagination.scss'\n\nimport { ProductImagesItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'ProductImage',\n  props: {\n    height: {\n      type: String,\n      required: true,\n    },\n    width: {\n      type: String,\n      required: true,\n    },\n    images: {\n      type: Array as PropType<ProductImagesItem[]>,\n      required: true,\n    },\n  },\n  components: {\n    Swiper,\n    SwiperSlide,\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.background-image {\n  height: 100%;\n  width: 100%;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n}\n.image-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &__img {\n    max-width: 100%;\n    max-height: 100%;\n  }\n  &__placeholder {\n    height: 50%;\n    width: 50%;\n  }\n}\n.swiper-container {\n  height: 100%;\n  width: 100%;\n}\n</style>\n","\nimport SwiperCore, { Pagination } from 'swiper'\nimport { Swiper, SwiperSlide } from 'swiper/vue'\nimport { defineComponent, PropType } from 'vue'\n\nSwiperCore.use([Pagination])\nimport 'swiper/swiper.scss'\nimport 'swiper/components/pagination/pagination.scss'\n\nimport { ProductImagesItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'ProductImage',\n  props: {\n    height: {\n      type: String,\n      required: true,\n    },\n    width: {\n      type: String,\n      required: true,\n    },\n    images: {\n      type: Array as PropType<ProductImagesItem[]>,\n      required: true,\n    },\n  },\n  components: {\n    Swiper,\n    SwiperSlide,\n  },\n})\n","import { render } from \"./ProductImage.vue?vue&type=template&id=53ac4786&scoped=true\"\nimport script from \"./ProductImage.vue?vue&type=script&lang=ts\"\nexport * from \"./ProductImage.vue?vue&type=script&lang=ts\"\n\nimport \"./ProductImage.vue?vue&type=style&index=0&id=53ac4786&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-53ac4786\"\n\nexport default script","<template>\n  <MDBContainer>\n    <MDBRow>\n      <ProductsFilterMenu @updateFilter=\"updateFilter\" />\n      <ProductsList v-if=\"!loading\" :data=\"data\" />\n      <ProductsListSkeleton v-if=\"loading\" />\n    </MDBRow>\n  </MDBContainer>\n</template>\n\n<script lang=\"ts\">\nimport { lowerCase } from 'lodash'\nimport { MDBContainer, MDBRow } from 'mdb-vue-ui-kit'\nimport { defineComponent, Ref, ref } from 'vue'\n\nimport { awaitFetcher } from '@/api/fetch'\nimport { graphqlFetchBy } from '@/api/graphql-api/GraphqlApi'\nimport { GET_PRODUCTS_CATALOG_LIST } from '@/api/graphql-api/queries/productQueries'\nimport ProductsFilterMenu from '@/components/public-layout/catalog/ProductsList/ProductsFilterMenu/ProductsFilterMenu.vue'\nimport ProductsList from '@/components/public-layout/catalog/ProductsList/ProductsList.vue'\nimport ProductsListSkeleton from '@/components/public-layout/catalog/ProductsList/ProductsListSkeleton.vue'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'catalog-products',\n  props: {\n    categoryId: {\n      type: String,\n      required: true,\n    },\n  },\n  components: {\n    MDBContainer,\n    MDBRow,\n    ProductsList,\n    ProductsListSkeleton,\n    ProductsFilterMenu,\n  },\n  setup(props) {\n    const data: Ref<ProductListItem[] | undefined> = ref([])\n    const loading: Ref<boolean> = ref(true)\n\n    const updateFilter = async (e: any): Promise<void> => {\n      loading.value = true\n      const conditionKey = Object.keys(e.condition)[0]\n      const cacheName = lowerCase(e.name).split(' ').join('-')\n      data.value = await awaitFetcher<ProductListItem[]>(\n        'NF',\n        `/catalog-products-${props.categoryId}-${cacheName}`,\n        () =>\n          graphqlFetchBy(GET_PRODUCTS_CATALOG_LIST, {\n            categoryId: props.categoryId,\n            sortBy: conditionKey,\n            sortParam: e.condition[conditionKey],\n          }),\n      )\n      loading.value = false\n    }\n    return {\n      data,\n      loading,\n      updateFilter,\n    }\n    // const { data, loading } = useFetch<Product[]>(\n    //   'SWR',\n    //   `/catalog-products-${props.categoryId}`,\n    //   () =>\n    //     graphqlFetchBy(GET_PRODUCTS_CATALOG_LIST_BY_CATEGORY_ID, {\n    //       categoryId: props.categoryId,\n    //     }),\n    // )\n    // return { data, loading }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\"></style>\n","<template>\n  <MDBCol col=\"12\">\n    <MDBDropdown class=\"my-1\" v-model=\"showDropdown\" :align=\"'end'\">\n      <MDBDropdownToggle\n        class=\"category-dropdown\"\n        @click=\"showDropdown = !showDropdown\"\n      >\n        <span> {{ filters[activeOrder].name }}</span>\n      </MDBDropdownToggle>\n      <MDBDropdownMenu aria-labelledby=\"dropdownMenuButton\">\n        <MDBDropdownItem\n          class=\"dropdown-item\"\n          v-for=\"(item, key) in filters\"\n          :key=\"key\"\n          @mouseup=\"setDropdown(key)\"\n        >\n          {{ item.name }}\n        </MDBDropdownItem>\n      </MDBDropdownMenu>\n    </MDBDropdown>\n  </MDBCol>\n</template>\n\n<script lang=\"ts\">\nimport {\n  MDBCol,\n  MDBDropdown,\n  MDBDropdownItem,\n  MDBDropdownMenu,\n  MDBDropdownToggle,\n} from 'mdb-vue-ui-kit'\nimport { defineComponent, onUnmounted, reactive, Ref, ref } from 'vue'\n\n// import { useFetch } from '@/api/fetch/useFetch'\nimport { graphqlFetch } from '@/api/graphql-api/GraphqlApi'\nimport { GET_CATEGORIES_DROPDOWN } from '@/api/graphql-api/queries/categoryQueries'\nimport { CategoryDropdownType } from '@/types/category'\nimport { ProductDiscountInput } from '@/types/product'\n\nimport productFilterData from './data.json'\n\nexport default defineComponent({\n  name: 'ProductFilterMenu',\n  components: {\n    MDBCol,\n    MDBDropdown,\n    MDBDropdownToggle,\n    MDBDropdownMenu,\n    MDBDropdownItem,\n  },\n  emits: ['updateFilter'],\n  setup(props, { emit }) {\n    const showDropdown = ref(false)\n    // TODO need to type this\n    const filters = productFilterData.filters\n    const activeOrder: Ref<keyof typeof filters> = ref('newer')\n\n    emit('updateFilter', filters[activeOrder.value])\n\n    const setDropdown = (newValue: keyof typeof filters): void => {\n      activeOrder.value = newValue\n      emit('updateFilter', filters[activeOrder.value])\n      showDropdown.value = false\n    }\n    return {\n      showDropdown,\n      activeOrder,\n      setDropdown,\n      filters,\n    }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.category-dropdown {\n  width: 153px;\n}\n</style>\n","\nimport {\n  MDBCol,\n  MDBDropdown,\n  MDBDropdownItem,\n  MDBDropdownMenu,\n  MDBDropdownToggle,\n} from 'mdb-vue-ui-kit'\nimport { defineComponent, onUnmounted, reactive, Ref, ref } from 'vue'\n\n// import { useFetch } from '@/api/fetch/useFetch'\nimport { graphqlFetch } from '@/api/graphql-api/GraphqlApi'\nimport { GET_CATEGORIES_DROPDOWN } from '@/api/graphql-api/queries/categoryQueries'\nimport { CategoryDropdownType } from '@/types/category'\nimport { ProductDiscountInput } from '@/types/product'\n\nimport productFilterData from './data.json'\n\nexport default defineComponent({\n  name: 'ProductFilterMenu',\n  components: {\n    MDBCol,\n    MDBDropdown,\n    MDBDropdownToggle,\n    MDBDropdownMenu,\n    MDBDropdownItem,\n  },\n  emits: ['updateFilter'],\n  setup(props, { emit }) {\n    const showDropdown = ref(false)\n    // TODO need to type this\n    const filters = productFilterData.filters\n    const activeOrder: Ref<keyof typeof filters> = ref('newer')\n\n    emit('updateFilter', filters[activeOrder.value])\n\n    const setDropdown = (newValue: keyof typeof filters): void => {\n      activeOrder.value = newValue\n      emit('updateFilter', filters[activeOrder.value])\n      showDropdown.value = false\n    }\n    return {\n      showDropdown,\n      activeOrder,\n      setDropdown,\n      filters,\n    }\n  },\n})\n","import { render } from \"./ProductsFilterMenu.vue?vue&type=template&id=6714529c&scoped=true\"\nimport script from \"./ProductsFilterMenu.vue?vue&type=script&lang=ts\"\nexport * from \"./ProductsFilterMenu.vue?vue&type=script&lang=ts\"\n\nimport \"./ProductsFilterMenu.vue?vue&type=style&index=0&id=6714529c&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-6714529c\"\n\nexport default script","<template>\n  <MDBContainer>\n    <MDBRow>\n      <ProductsListItem v-for=\"item in data\" :key=\"item._id\" :data=\"item\" />\n    </MDBRow>\n  </MDBContainer>\n</template>\n\n<script lang=\"ts\">\nimport { MDBContainer, MDBRow } from 'mdb-vue-ui-kit'\nimport { defineComponent, PropType } from 'vue'\n\nimport ProductsListItem from '@/components/public-layout/catalog/ProductsList/ProductsListItem.vue'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'ProductsList',\n  props: {\n    data: {\n      type: Array as PropType<ProductListItem[]>,\n    },\n  },\n\n  components: {\n    ProductsListItem,\n    MDBContainer,\n    MDBRow,\n  },\n})\n</script>\n\n<style scoped lang=\"scss\"></style>\n","<template>\n  <MDBCol class=\"d-flex flex-column\" col=\"6\">\n    <!--    v-mdb-ripple=\"{ duration: 1000 }\"-->\n    <div class=\"item-wrapper\" @click=\"pushToProduct(data._id)\">\n      <div class=\"image-wrapper\">\n        <div v-if=\"data.productData.discount\" class=\"percentage\">\n          -{{ data.productData.discount.percentage }}%\n        </div>\n        <ProductImage\n          :images=\"[data.productData.images[0]]\"\n          height=\"150px\"\n          width=\"100%\"\n        />\n      </div>\n      <div class=\"price-row\">\n        <div v-if=\"!data.productData.discount\" class=\"price-row__price\">\n          {{ data.productData.price.toFixed(2) }}&ensp;dol.\n        </div>\n        <div v-if=\"data.productData.discount\" class=\"price-row__price sale\">\n          <div class=\"sale__old-price\">\n            {{ data.productData.price.toFixed(2) }}\n          </div>\n          <div class=\"sale__new-price\">{{ discountPrice }}&ensp;dol.</div>\n        </div>\n        <MDBIcon icon=\"heart\" size=\"lg\" iconStyle=\"far\" />\n      </div>\n      <div class=\"name-row\">\n        {{ data.productData.name }}\n      </div>\n    </div>\n  </MDBCol>\n</template>\n\n<script lang=\"ts\">\nimport {\n  MDBCol,\n  MDBIcon,\n  // mdbRipple\n} from 'mdb-vue-ui-kit'\nimport { computed, ComputedRef, defineComponent, PropType } from 'vue'\n\nimport ProductImage from '@/components/public-layout/catalog/Product/ProductImage.vue'\nimport router from '@/router'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'ProductsListItem',\n  props: {\n    data: {\n      type: Object as PropType<ProductListItem>,\n      required: true,\n    },\n  },\n  components: {\n    ProductImage,\n    MDBCol,\n    MDBIcon,\n  },\n  // directives: {\n  //   mdbRipple,\n  // },\n  setup(props) {\n    const pushToProduct = (_id: string): void => {\n      router.push({\n        name: 'catalog-product',\n        params: { _id },\n      })\n      // setTimeout(() => {\n      //   router.push({\n      //     name: 'CatalogProduct',\n      //     params: { id },\n      //   })\n      // }, 100)\n    }\n    const discountPrice: ComputedRef<string | undefined> = computed(() => {\n      const { price, discount } = props.data.productData\n      if (!discount) return\n      const discountValue = (price / 100) * discount.percentage\n      return (price - discountValue).toFixed(2)\n    })\n    return { pushToProduct, discountPrice }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.item-wrapper {\n  margin: 3px;\n}\n\n.image-wrapper {\n  position: relative;\n}\n.percentage {\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  background: #f93154;\n  color: #ffffff;\n  padding: 0 3px;\n  font-size: 0.8rem;\n  font-weight: 500;\n  border-radius: 3px;\n}\n\n.price-row {\n  padding: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  &__price {\n    font-size: 1.1rem;\n    font-weight: 600;\n  }\n}\n\n.sale {\n  display: flex;\n  align-items: center;\n  &__old-price {\n    color: #4f4f4f;\n    font-size: 0.9rem;\n    font-weight: 400;\n    text-decoration: line-through;\n  }\n  &__new-price {\n    padding-left: 2px;\n  }\n}\n\n\n.name-row {\n  padding: 5px;\n  height: 61px;\n  font-size: 0.9rem;\n  line-height: 1.2;\n}\n</style>\n","\nimport {\n  MDBCol,\n  MDBIcon,\n  // mdbRipple\n} from 'mdb-vue-ui-kit'\nimport { computed, ComputedRef, defineComponent, PropType } from 'vue'\n\nimport ProductImage from '@/components/public-layout/catalog/Product/ProductImage.vue'\nimport router from '@/router'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'ProductsListItem',\n  props: {\n    data: {\n      type: Object as PropType<ProductListItem>,\n      required: true,\n    },\n  },\n  components: {\n    ProductImage,\n    MDBCol,\n    MDBIcon,\n  },\n  // directives: {\n  //   mdbRipple,\n  // },\n  setup(props) {\n    const pushToProduct = (_id: string): void => {\n      router.push({\n        name: 'catalog-product',\n        params: { _id },\n      })\n      // setTimeout(() => {\n      //   router.push({\n      //     name: 'CatalogProduct',\n      //     params: { id },\n      //   })\n      // }, 100)\n    }\n    const discountPrice: ComputedRef<string | undefined> = computed(() => {\n      const { price, discount } = props.data.productData\n      if (!discount) return\n      const discountValue = (price / 100) * discount.percentage\n      return (price - discountValue).toFixed(2)\n    })\n    return { pushToProduct, discountPrice }\n  },\n})\n","import { render } from \"./ProductsListItem.vue?vue&type=template&id=03b9b346&scoped=true\"\nimport script from \"./ProductsListItem.vue?vue&type=script&lang=ts\"\nexport * from \"./ProductsListItem.vue?vue&type=script&lang=ts\"\n\nimport \"./ProductsListItem.vue?vue&type=style&index=0&id=03b9b346&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-03b9b346\"\n\nexport default script","\nimport { MDBContainer, MDBRow } from 'mdb-vue-ui-kit'\nimport { defineComponent, PropType } from 'vue'\n\nimport ProductsListItem from '@/components/public-layout/catalog/ProductsList/ProductsListItem.vue'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'ProductsList',\n  props: {\n    data: {\n      type: Array as PropType<ProductListItem[]>,\n    },\n  },\n\n  components: {\n    ProductsListItem,\n    MDBContainer,\n    MDBRow,\n  },\n})\n","import { render } from \"./ProductsList.vue?vue&type=template&id=06a5e841\"\nimport script from \"./ProductsList.vue?vue&type=script&lang=ts\"\nexport * from \"./ProductsList.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <MDBCol\n    class=\"d-flex flex-column\"\n    col=\"6\"\n    v-for=\"item in SKELETON_COUNT\"\n    :key=\"item\"\n  >\n    <div class=\"item-wrapper ssc\">\n      <div class=\"ssc-square item-image\" />\n      <div class=\"price-row\">\n        <div class=\"ssc-line price-row__price\" />\n      </div>\n      <div class=\"name-row\">\n        <div class=\"ssc-line name-row__line\" />\n        <div class=\"ssc-line name-row__line\" />\n        <div class=\"ssc-line name-row__line\" />\n      </div>\n    </div>\n  </MDBCol>\n</template>\n\n<script lang=\"ts\">\nimport { MDBCol } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\nconst SKELETON_COUNT = 8\n\nexport default defineComponent({\n  name: 'ProductsListSkeleton',\n  components: {\n    MDBCol,\n  },\n  setup() {\n    return {\n      SKELETON_COUNT,\n    }\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n.item-wrapper {\n  margin: 3px;\n}\n.price-row {\n  height: 38px;\n  padding: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  &__price {\n    height: 17.6px;\n    width: 100%;\n    margin: 0;\n  }\n}\n.name-row {\n  padding: 5px;\n  height: 61px;\n  display: flex;\n  flex-direction: column;\n  &__line {\n    height: 14.4px;\n    width: 100%;\n  }\n}\n.item-image {\n  height: 150px;\n  width: 100%;\n}\n</style>\n","\nimport { MDBCol } from 'mdb-vue-ui-kit'\nimport { defineComponent } from 'vue'\nconst SKELETON_COUNT = 8\n\nexport default defineComponent({\n  name: 'ProductsListSkeleton',\n  components: {\n    MDBCol,\n  },\n  setup() {\n    return {\n      SKELETON_COUNT,\n    }\n  },\n})\n","import { render } from \"./ProductsListSkeleton.vue?vue&type=template&id=29f47742&scoped=true\"\nimport script from \"./ProductsListSkeleton.vue?vue&type=script&lang=ts\"\nexport * from \"./ProductsListSkeleton.vue?vue&type=script&lang=ts\"\n\nimport \"./ProductsListSkeleton.vue?vue&type=style&index=0&id=29f47742&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-29f47742\"\n\nexport default script","\nimport { lowerCase } from 'lodash'\nimport { MDBContainer, MDBRow } from 'mdb-vue-ui-kit'\nimport { defineComponent, Ref, ref } from 'vue'\n\nimport { awaitFetcher } from '@/api/fetch'\nimport { graphqlFetchBy } from '@/api/graphql-api/GraphqlApi'\nimport { GET_PRODUCTS_CATALOG_LIST } from '@/api/graphql-api/queries/productQueries'\nimport ProductsFilterMenu from '@/components/public-layout/catalog/ProductsList/ProductsFilterMenu/ProductsFilterMenu.vue'\nimport ProductsList from '@/components/public-layout/catalog/ProductsList/ProductsList.vue'\nimport ProductsListSkeleton from '@/components/public-layout/catalog/ProductsList/ProductsListSkeleton.vue'\nimport { ProductListItem } from '@/types/product'\n\nexport default defineComponent({\n  name: 'catalog-products',\n  props: {\n    categoryId: {\n      type: String,\n      required: true,\n    },\n  },\n  components: {\n    MDBContainer,\n    MDBRow,\n    ProductsList,\n    ProductsListSkeleton,\n    ProductsFilterMenu,\n  },\n  setup(props) {\n    const data: Ref<ProductListItem[] | undefined> = ref([])\n    const loading: Ref<boolean> = ref(true)\n\n    const updateFilter = async (e: any): Promise<void> => {\n      loading.value = true\n      const conditionKey = Object.keys(e.condition)[0]\n      const cacheName = lowerCase(e.name).split(' ').join('-')\n      data.value = await awaitFetcher<ProductListItem[]>(\n        'NF',\n        `/catalog-products-${props.categoryId}-${cacheName}`,\n        () =>\n          graphqlFetchBy(GET_PRODUCTS_CATALOG_LIST, {\n            categoryId: props.categoryId,\n            sortBy: conditionKey,\n            sortParam: e.condition[conditionKey],\n          }),\n      )\n      loading.value = false\n    }\n    return {\n      data,\n      loading,\n      updateFilter,\n    }\n    // const { data, loading } = useFetch<Product[]>(\n    //   'SWR',\n    //   `/catalog-products-${props.categoryId}`,\n    //   () =>\n    //     graphqlFetchBy(GET_PRODUCTS_CATALOG_LIST_BY_CATEGORY_ID, {\n    //       categoryId: props.categoryId,\n    //     }),\n    // )\n    // return { data, loading }\n  },\n})\n","import { render } from \"./catalog-products.vue?vue&type=template&id=03050db8\"\nimport script from \"./catalog-products.vue?vue&type=script&lang=ts\"\nexport * from \"./catalog-products.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductsFilterMenu.vue?vue&type=style&index=0&id=6714529c&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductsListItem.vue?vue&type=style&index=0&id=03b9b346&scoped=true&lang=scss\""],"sourceRoot":""}